%!PS
%%Version: 3.3
%%DocumentFonts: (atend)
%%Pages: (atend)
%%EndComments
%
% Version 3.3 prologue for troff files.
%

/#copies 1 store
/aspectratio 1 def
/formsperpage 1 def
/landscape false def
/linewidth .3 def
/magnification 1 def
/margin 0 def
/orientation 0 def
/resolution 720 def
/rotation 1 def
/xoffset 0 def
/yoffset 0 def

/roundpage true def
/useclippath true def
/pagebbox [0 0 612 792] def

/R  /Times-Roman def
/I  /Times-Italic def
/B  /Times-Bold def
/BI /Times-BoldItalic def
/H  /Helvetica def
/HI /Helvetica-Oblique def
/HB /Helvetica-Bold def
/HX /Helvetica-BoldOblique def
/CW /Courier def
/CO /Courier def
/CI /Courier-Oblique def
/CB /Courier-Bold def
/CX /Courier-BoldOblique def
/PA /Palatino-Roman def
/PI /Palatino-Italic def
/PB /Palatino-Bold def
/PX /Palatino-BoldItalic def
/Hr /Helvetica-Narrow def
/Hi /Helvetica-Narrow-Oblique def
/Hb /Helvetica-Narrow-Bold def
/Hx /Helvetica-Narrow-BoldOblique def
/KR /Bookman-Light def
/KI /Bookman-LightItalic def
/KB /Bookman-Demi def
/KX /Bookman-DemiItalic def
/AR /AvantGarde-Book def
/AI /AvantGarde-BookOblique def
/AB /AvantGarde-Demi def
/AX /AvantGarde-DemiOblique def
/NR /NewCenturySchlbk-Roman def
/NI /NewCenturySchlbk-Italic def
/NB /NewCenturySchlbk-Bold def
/NX /NewCenturySchlbk-BoldItalic def
/ZD /ZapfDingbats def
/ZI /ZapfChancery-MediumItalic def
/S  /S def
/S1 /S1 def
/GR /Symbol def

/inch {72 mul} bind def
/min {2 copy gt {exch} if pop} bind def

/setup {
	counttomark 2 idiv {def} repeat pop

	landscape {/orientation 90 orientation add def} if
	/scaling 72 resolution div def
	linewidth setlinewidth
	1 setlinecap

	pagedimensions
	xcenter ycenter translate
	orientation rotation mul rotate
	width 2 div neg height 2 div translate
	xoffset inch yoffset inch neg translate
	margin 2 div dup neg translate
	magnification dup aspectratio mul scale
	scaling scaling scale

	/Symbol /S Sdefs cf
	/Times-Roman /S1 S1defs cf
	0 0 moveto
} def

/pagedimensions {
	useclippath userdict /gotpagebbox known not and {
		/pagebbox [clippath pathbbox newpath] def
		roundpage currentdict /roundpagebbox known and {roundpagebbox} if
	} if
	pagebbox aload pop
	4 -1 roll exch 4 1 roll 4 copy
	landscape {4 2 roll} if
	sub /width exch def
	sub /height exch def
	add 2 div /xcenter exch def
	add 2 div /ycenter exch def
	userdict /gotpagebbox true put
} def

/pagesetup {
	/page exch def
	currentdict /pagedict known currentdict page known and {
		page load pagedict exch get cvx exec
	} if
} def

/decodingdefs [
	{counttomark 2 idiv {y moveto show} repeat}
	{neg /y exch def counttomark 2 idiv {y moveto show} repeat}
	{neg moveto {2 index stringwidth pop sub exch div 0 32 4 -1 roll widthshow} repeat}
	{neg moveto {spacewidth sub 0.0 32 4 -1 roll widthshow} repeat}
	{counttomark 2 idiv {y moveto show} repeat}
	{neg setfunnytext}
] def

/setdecoding {/t decodingdefs 3 -1 roll get bind def} bind def

/w {neg moveto show} bind def
/m {neg dup /y exch def moveto} bind def
/done {/lastpage where {pop lastpage} if} def

/f {
	dup /font exch def findfont exch
	dup /ptsize exch def scaling div dup /size exch def scalefont setfont
	linewidth ptsize mul scaling 10 mul div setlinewidth
	/spacewidth ( ) stringwidth pop def
} bind def

/changefont {
	/fontheight exch def
	/fontslant exch def
	currentfont [
		1 0
		fontheight ptsize div fontslant sin mul fontslant cos div
		fontheight ptsize div
		0 0
	] makefont setfont
} bind def

/sf {f} bind def

/cf {
	dup length 2 idiv
	/entries exch def
	/chtab exch def
	/newfont exch def

	findfont dup length 1 add dict
	/newdict exch def
	{1 index /FID ne {newdict 3 1 roll put} {pop pop} ifelse} forall

	newdict /Metrics entries dict put
	newdict /Metrics get
	begin
		chtab aload pop
		1 1 entries {pop def} for
		newfont newdict definefont pop
	end
} bind def

%
% A few arrays used to adjust reference points and character widths in some
% of the printer resident fonts. If square roots are too high try changing
% the lines describing /radical and /radicalex to,
%
%	/radical	[0 -75 550 0]
%	/radicalex	[-50 -75 500 0]
%
% Move braceleftbt a bit - default PostScript character is off a bit.
%

/Sdefs [
	/bracketlefttp		[201 500]
	/bracketleftbt		[201 500]
	/bracketrighttp		[-81 380]
	/bracketrightbt		[-83 380]
	/braceleftbt		[203 490]
	/bracketrightex		[220 -125 500 0]
	/radical		[0 0 550 0]
	/radicalex		[-50 0 500 0]
	/parenleftex		[-20 -170 0 0]
	/integral		[100 -50 500 0]
	/infinity		[10 -75 730 0]
] def

/S1defs [
	/underscore		[0 80 500 0]
	/endash			[7 90 650 0]
] def
%
% Tries to round clipping path dimensions, as stored in array pagebbox, so they
% match one of the known sizes in the papersizes array. Lower left coordinates
% are always set to 0.
%

/roundpagebbox {
    7 dict begin
	/papersizes [8.5 inch 11 inch 14 inch 17 inch] def

	/mappapersize {
		/val exch def
		/slop .5 inch def
		/diff slop def
		/j 0 def
		0 1 papersizes length 1 sub {
			/i exch def
			papersizes i get val sub abs
			dup diff le {/diff exch def /j i def} {pop} ifelse
		} for
		diff slop lt {papersizes j get} {val} ifelse
	} def

	pagebbox 0 0 put
	pagebbox 1 0 put
	pagebbox dup 2 get mappapersize 2 exch put
	pagebbox dup 3 get mappapersize 3 exch put
    end
} bind def

%%EndProlog
%%BeginSetup
mark
/resolution 720 def
setup
2 setdecoding
%%EndSetup
%%Page: 1 1
/saveobj save def
mark
1 pagesetup
36 S1 f
()3780 696 w
cleartomark
saveobj restore
%%BeginGlobal
/build_LH {pop} def
%%EndGlobal
/saveobj save def
mark
36 S1 f
3780 696 m
756 build_LH
gsave
currentpoint translate
180 ptsize 36 div mul dup translate
%180 180 translate
0.03 0.03 scale
ptsize 36 div dup scale
newpath
-2909 5248 moveto
-2860 5256 lineto
-1463 -2621 8000 100 81 arcn
675 11215 6000 -99 -90 arc
2967 5215 lineto
0 0 6000 60 119 arc
eofill
newpath
-4116 4366 moveto
-3175 4455 lineto
-2424 -3510 8000 95 90 arcn
-1147 4490 lineto
-1147 -2510 7000 90 85 arcn
2005 4237 lineto
2716 12205 8000 -95 -90 arc
4280 4205 lineto
0 0 6000 44 56 arc
2112 4985 lineto
2112 -4015 9000 90 97 arc
-539 4734 lineto
-1364 11685 7000 -83 -90 arcn
-2144 4685 lineto
-2144 13685 9000 -90 -95 arcn
-3621 4785 lineto
0 0 6000 127 133 arc
eofill
newpath
-4991 3330 moveto
-4148 3420 lineto
-3299 -4535 8000 96 90 arcn
-410 3465 lineto
-410 -2535 6000 90 85 arcn
2357 3232 lineto
3475 15180 12000 -95 -90 arc
5088 3180 lineto
0 0 6000 32 41 arc
2866 3960 lineto
2866 -2040 6000 90 96 arc
183 3710 lineto
-866 13655 10000 -84 -90 arcn
-3152 3655 lineto
-3152 11655 8000 -90 -95 arcn
-4676 3760 lineto
0 0 6000 141 146 arc
eofill
newpath
-5537 2312 moveto
-4459 2414 lineto
-3799 -4555 7000 95 90 arcn
-51 2445 lineto
-51 -3555 6000 90 84 arcn
2534 2219 lineto
3518 12170 10000 -96 -90 arc
5594 2170 lineto
0 0 6000 21 29 arc
3489 2950 lineto
3489 -7050 10000 90 96 arc
577 2684 lineto
-210 9640 7000 -84 -90 arcn
-3655 2640 lineto
-3655 12640 10000 -90 -95 arcn
-5331 2754 lineto
0 0 6000 153 157 arc
eofill
newpath
-5862 1282 moveto
-4764 1388 lineto
-3994 -6575 8000 96 90 arcn
-140 1425 lineto
-140 -7575 9000 90 85 arcn
2717 1195 lineto
3565 10155 9000 -95 -90 arc
5888 1155 lineto
0 0 6000 11 19 arc
3657 1935 lineto
3657 -7065 9000 90 96 arc
490 1664 lineto
-302 9625 8000 -84 -90 arcn
-3963 1625 lineto
-3963 9625 8000 -90 -95 arcn
-5739 1749 lineto
0 0 6000 163 168 arc
eofill
newpath
-5996 225 moveto
-4515 375 lineto
-3513 -9575 10000 96 90 arcn
-456 425 lineto
-456 -8575 9000 90 85 arcn
2650 181 lineto
3552 10140 10000 -95 -90 arc
5998 140 lineto
0 0 6000 1 9 arc
3677 920 lineto
3677 -8080 9000 90 95 arc
617 670 lineto
-329 10625 10000 -85 -90 arcn
-3779 625 lineto
-3779 10625 10000 -90 -95 arcn
-5950 775 lineto
0 0 6000 173 178 arc
eofill
newpath
-5945 -810 moveto
-4118 -649 lineto
-3240 -10610 10000 95 90 arcn
-711 -610 lineto
-711 -8610 8000 90 85 arcn
2086 -830 lineto
3076 10125 11000 -95 -90 arc
5936 -875 lineto
0 0 6000 -8 -1 arc
3550 -95 lineto
3550 -10095 10000 90 95 arc
-207 -370 lineto
-944 8600 9000 -85 -90 arcn
-3282 -400 lineto
-3282 9600 10000 -90 -94 arcn
-5996 -225 lineto
0 0 6000 -178 -172 arc
eofill
newpath
-5700 -1873 moveto
-3082 -1688 lineto
-2091 -15652 14000 94 86 arcn
1307 -1869 lineto
2134 9100 11000 -94 -90 arc
5691 -1900 lineto
0 0 6000 -18 -11 arc
2821 -1120 lineto
2821 -9120 8000 90 94 arc
-1015 -1387 lineto
-2143 13571 15000 -86 -95 arcn
-5889 -1152 lineto
0 0 6000 -169 -162 arc
eofill
newpath
-5245 -2914 moveto
-2728 -2821 lineto
-2172 -17811 15000 92 88 arcn
670 -2908 lineto
1050 7085 10000 -92 -90 arc
5244 -2915 lineto
0 0 6000 -29 -21 arc
1987 -2135 lineto
1987 -17135 15000 90 92 arc
-1508 -2254 lineto
-2061 12736 15000 -88 -92 arcn
-5607 -2136 lineto
0 0 6000 -159 -151 arc
eofill
newpath
-4529 -3935 moveto
4529 -3935 lineto
0 0 6000 -41 -32 arc
10 -3155 lineto
-2071 -3183 lineto
-2207 6816 10000 -89 -91 arcn
-5103 -3155 lineto
0 0 6000 -148 -139 arc
eofill
newpath
-3376 -4960 moveto
3376 -4960 lineto
0 0 6000 -56 -44 arc
-4304 -4180 lineto
0 0 6000 -136 -124 arc
eofill
newpath
-2993 -5200 moveto
2993 -5200 lineto
0 0 6000 -60 -120 arcn
eofill
newpath
6790 -2405 moveto
8446 2405 lineto
9771 2405 lineto
11380 -2405 lineto
10080 -2405 lineto
9842 -1545 lineto
8353 -1545 lineto
8090 -2405 lineto
6790 -2405 lineto
8646 -585 moveto
9575 -585 lineto
9134 1008 lineto
8646 -585 lineto
eofill
newpath
11615 -2405 moveto
11615 1410 lineto
10360 1410 lineto
10360 2405 lineto
14140 2405 lineto
14140 1410 lineto
12885 1410 lineto
12885 -2405 lineto
11615 -2405 lineto
eofill
newpath
16135 -925 moveto
16135 -30 lineto
17040 -30 lineto
17040 -1187 lineto
16540 -1187 500 0 -23 arcn
16959 -1480 lineto
17100 -1510 lineto
17260 -1510 lineto
17260 -2350 lineto
17073 -2350 lineto
17073 -1225 1125 -90 -124 arcn
16425 -2145 lineto
15356 -455 2000 -58 -90 arcn
14989 -2455 lineto
14989 -705 1750 -90 -122 arcn
14072 -2196 lineto
14660 -1237 1125 -121 180 arcn
13535 -1081 lineto
14660 -1081 1125 180 135 arcn
13950 -200 lineto
13885 -103 lineto
14610 386 875 -146 180 arcn
13735 534 lineto
14610 534 875 180 124 arcn
14130 1265 lineto
14898 125 1375 124 90 arcn
15025 1500 lineto
15025 -500 2000 90 78 arcn
15536 1436 lineto
15380 703 750 78 44 arcn
15925 1218 lineto
15385 697 750 44 0 arcn
16135 -25 lineto
15235 -25 lineto
15235 515 lineto
14985 515 250 0 180 arc
14735 501 lineto
15235 501 500 180 -130 arc
16135 -925 lineto
14570 -1127 moveto
14570 -1190 lineto
14945 -1190 375 180 -135 arc
14697 -1472 lineto
15006 -1163 438 -135 -90 arc
15378 -1600 lineto
15378 -1475 125 -90 -73 arc
15495 -1570 lineto
14658 -855 lineto
14605 -968 lineto
14945 -1127 375 155 180 arc
eofill
newpath
18840 -2405 moveto
18840 1410 lineto
20095 1410 lineto
20095 2405 lineto
16315 2405 lineto
16315 1410 lineto
17570 1410 lineto
17570 -2405 lineto
18840 -2405 lineto
eofill
grestore
4536 696 m
10 S1 f
(_ ________________________________________________________________________________________________________)1 5220 1 720 876 t
10 H f
(AT&T Bell Laboratories)2 1037 1 720 1020 t
8 R f
(subject:)720 1416 w
10 B f
(A Program for Aligning Sentences in Bilingual Corpora)7 2381 1 1017 1416 t
(Work Project No. 311401-2399, 311404-2099)4 1897 1 1017 1656 t
(File Case 20878, 60011)3 966 1 1017 1776 t
8 R f
(date:)3792 1416 w
10 B f
(October 4, 1990)2 674 1 4032 1416 t
8 R f
(from:)3792 1656 w
10 B f
(William A. Gale)2 692 1 4032 1656 t
(Org. 11215)1 472 1 4032 1776 t
(MH 2C-278)1 502 1 4032 1896 t
(x2149)4032 2016 w
(Kenneth W. Church)2 870 1 4032 2256 t
(Org. 11222)1 472 1 4032 2376 t
(MH 2D-454)1 502 1 4032 2496 t
(x5325)4032 2616 w
(11215-901004-11TM)4032 2856 w
(11222-901004-11TM)4032 2976 w
10 I f
(TECHNICAL MEMORANDUM)1 1280 1 2240 3456 t
10 R f
(ABSTRACT)2618 3936 w
( in)1 122(Researchers in both machine translation and bilingual lexicography have recently become interested)11 4198 2 720 4176 t
( as the Canadian Hansards \(parliamentary proceedings\))6 2331(studying bilingual corpora, bodies of text such)6 1989 2 720 4296 t
( useful step is to align the)6 1100( One)1 229( English\).)1 402(which are available in multiple languages \(such as French and)9 2589 4 720 4416 t
( is, to identify correspondences between sentences in one language and sentences in the other)14 3736(sentences, that)1 584 2 720 4536 t
(language.)720 4656 w
(This paper will describe a program \()6 1452 1 720 4896 t
10 I f
(align)2172 4896 w
10 R f
( model of)2 385(\) for aligning sentences based on a very simple statistical)9 2277 2 2378 4896 t
( the fact that longer sentences in one language tend to be translated)12 2804( program uses)2 584( The)1 217(character lengths.)1 715 4 720 5016 t
( language, and that shorter sentences tend to be translated into shorter)11 2932(into longer sentences in the other)5 1388 2 720 5136 t
( probabilistic score is assigned to each proposed correspondence of sentences, based on the)13 3779(sentences. A)1 541 2 720 5256 t
( probabilistic score is)3 855( This)1 229( \(in characters\) and the variance of this ratio.)8 1794(ratio of lengths of the two sentences)6 1442 4 720 5376 t
(used in a dynamic programming framework to \256nd the maximum likelihood alignment of sentences.)13 4013 1 720 5496 t
( performed based on a trilingual corpus of)7 1789( evaluation was)2 651( An)1 187(This simple approach works remarkably.)4 1693 4 720 5736 t
( The)1 216( Bank of Switzerland \(UBS\) in English, French and German.)9 2532(economic reports issued by the Union)5 1572 3 720 5856 t
( it is possible to extract a large subcorpus)8 1688( Moreover,)1 473( all but 4% of the sentences.)6 1153(method correctly aligned)2 1006 4 720 5976 t
( the best scoring 80% of the alignments, the error rate is)11 2279( selecting)1 385( By)1 172(which has a much smaller error rate.)6 1484 4 720 6096 t
( number of errors in each of the English-French and)9 2079(reduced from 4% to 0.7%. There were roughly the same)9 2241 2 720 6216 t
(English-German alignments, suggesting that the method may be fairly language independent.)10 3729 1 720 6336 t
9 B f
(1. Introduction)1 604 1 720 6696 t
10 R f
( and bilingual lexicography \(e.g., Klavans)5 1695(Researchers in both machine translation \(e.g., Brown et al, 1990\))9 2625 2 720 6996 t
( bilingual corpora, bodies of text such)6 1518(and Tzoukermann, 1990\) have recently become interested in studying)8 2802 2 720 7116 t
( \(such as)2 395(as the Canadian Hansards \(parliamentary debates\) which are available in multiple languages)11 3925 2 720 7236 t
( sentence alignment task is to identify correspondances between sentences in one)11 3268( The)1 209(French and English\).)2 843 3 720 7356 t
cleartomark
showpage
saveobj restore
%%EndPage: 1 1
%%Page: 2 2
/saveobj save def
mark
2 pagesetup
10 R f
(- 2 -)2 166 1 2797 480 t
( task is a \256rst step towards the more ambitious task of)11 2223( This)1 235(language and sentences in the other language.)6 1862 3 720 960 t
(aligning words which correspond to each other.)6 1899 1 720 1080 t
(The input is a pair of texts such as:)8 1393 1 720 1320 t
10 B f
(English French)1 2435 1 825 1620 t
10 S f
(_ __________________________________________________________________________________)1 4110 1 825 1640 t
10 R f
( of mineral)2 468(According to our survey, 1988 sales)5 1512 2 825 1760 t
( in)1 114(water and soft drinks were much higher than)7 1866 2 825 1880 t
( of these)2 364(1987, re\257ecting the growing popularity)4 1616 2 825 2000 t
( drink manufacturers in particular)4 1365(products. Cola)1 615 2 825 2120 t
( The)1 273( rates.)1 306(achieved above-average growth)2 1401 3 825 2240 t
( due to an increase in)5 865(higher turnover was largely)3 1115 2 825 2360 t
( and investment)2 669( Employment)1 585( volume.)1 368(the sales)1 358 4 825 2480 t
( two-year)1 434( a)1 125( Following)1 518(levels also climbed.)2 903 4 825 2600 t
( new Foodstuffs)2 862(transitional period, the)2 1118 2 825 2720 t
( Water came into effect on)5 1075(Ordinance for Mineral)2 905 2 825 2840 t
( it contains more)3 771( Speci\256cally,)1 581( 1988.)1 284(April 1,)1 344 4 825 2960 t
( quality)1 427(stringent requirements regarding)2 1553 2 825 3080 t
(consistency and purity guarantees.)3 1375 1 825 3200 t
( et aux limonades, elles)4 939( rales)1 183( \302)1 5( eaux mine)2 440(Quant aux)1 413 5 2955 1760 t
( effet,)1 263( En)1 192( plus d'adeptes.)2 686(rencontrent toujours)1 839 4 2955 1880 t
( ventes nettement)2 719(notre sondage fait ressortir des)4 1261 2 2955 2000 t
( \301)1 -2( les boissons a)3 593( de 1987, pour)3 598( celles)1 261( \301)1 -2( a)1 76( rieures)1 266(supe \302)1 188 8 2955 2120 t
( progression des)2 713( La)1 187(base de cola notamment.)3 1080 3 2955 2240 t
( en grande partie de)4 914( sulte)1 184( \302)1 5( re)1 134(chiffres d'affaires)1 743 5 2955 2360 t
( L'emploi)1 426( volume des ventes.)3 800(l'accroissement du)1 754 3 2955 2480 t
( .)1 20( \302)1 5( augmente)1 431( galement)1 361( \302)1 5( e)1 87(et les investissements ont)3 1071 7 2955 2600 t
( es)1 78( \302)1 5( sur les denre)3 559( rale)1 144( \302)1 5( de)1 89( \302)1 5( ordonnance fe)2 612(La nouvelle)1 483 9 2955 2720 t
( eaux)1 251(alimentaires concernant entre autres les)4 1729 2 2955 2840 t
( en vigueur le 1er avril 1988)6 1275( e)1 39( \302)1 5( entre)1 248( rales,)1 208(mine \302)1 205 6 2955 2960 t
( transitoire de deux ans, exige)5 1252( riode)1 200( \302)1 5( pe)1 131( une)1 184(apre \301s)1 208 6 2955 3080 t
( \302)1 5( constance dans la qualite)4 1036(surtout une plus grande)3 944 3 2955 3200 t
( .)1 20( \302)1 5(et une garantie de la purete)5 1077 3 2955 3320 t
10 S f
(\347)2880 3340 w
(\347)2880 3300 w
(\347)2880 3200 w
(\347)2880 3100 w
(\347)2880 3000 w
(\347)2880 2900 w
(\347)2880 2800 w
(\347)2880 2700 w
(\347)2880 2600 w
(\347)2880 2500 w
(\347)2880 2400 w
(\347)2880 2300 w
(\347)2880 2200 w
(\347)2880 2100 w
(\347)2880 2000 w
(\347)2880 1900 w
(\347)2880 1800 w
(\347)2880 1700 w
(\347)2880 1600 w
10 R f
( sentences correspond to exactly)4 1303( English)1 333( Most)1 258(The output identi\256es the correspondance between sentences.)6 2426 4 720 3700 t
( or more French)3 700(one French sentence, but it is possible for an English sentence to correspond to two)14 3620 2 720 3820 t
( sentences \(below\) illustrate a particularly hard case where two English)10 2973( \256rst two English)3 723(sentences. The)1 624 3 720 3940 t
( alignments are possible because the clause ``...)7 1925( smaller)1 325( No)1 178(sentences correspond to two French sentences.)5 1892 4 720 4060 t
( The)1 209( with \(part of\) the second French sentence.)7 1729(sales ... were higher ...'' in the \256rst English sentence aligns)10 2382 3 720 4180 t
( the more typical case where one English sentence aligns with exactly)11 2841(next two alignments below illustrate)4 1479 2 720 4300 t
( These)1 298( sentence.)1 403( \256nal alignment matches two English sentences to one French)9 2548( The)1 214(one French sentence.)2 857 5 720 4420 t
(alignments agreed with the results produced by a human judge.)9 2524 1 720 4540 t
10 B f
(English French)1 2435 1 825 4840 t
10 S f
(_ __________________________________________________________________________________)1 4110 1 825 4860 t
10 R f
( of mineral)2 468(According to our survey, 1988 sales)5 1512 2 825 4980 t
( in)1 114(water and soft drinks were much higher than)7 1866 2 825 5100 t
( of these)2 364(1987, re\257ecting the growing popularity)4 1616 2 825 5220 t
( drink manufacturers in particular)4 1365(products. Cola)1 615 2 825 5340 t
(achieved above-average growth rates.)3 1505 1 825 5460 t
( et aux limonades, elles)4 939( rales)1 183( \302)1 5( eaux mine)2 440(Quant aux)1 413 5 2955 4980 t
( plus d'adeptes. En effet,)4 1136(rencontrent toujours)1 844 2 2955 5100 t
( ventes nettement)2 719(notre sondage fait ressortir des)4 1261 2 2955 5220 t
( \301)1 -2( les boissons a)3 593( de 1987, pour)3 598( celles)1 261( \301)1 -2( a)1 76( rieures)1 266(supe \302)1 188 8 2955 5340 t
(base de cola notamment.)3 987 1 2955 5460 t
10 S f
(_ __________________________________________________________________________________)1 4110 1 825 5500 t
10 R f
( an)1 164(The higher turnover was largely due to)6 1816 2 825 5620 t
(increase in the sales volume.)4 1145 1 825 5740 t
( en)1 133( sulte)1 184( \302)1 5( d'affaires re)2 536(La progression des chiffres)3 1122 5 2955 5620 t
( de l'accroissement du volume des)5 1443(grande partie)1 537 2 2955 5740 t
(ventes.)2955 5860 w
10 S f
(_ __________________________________________________________________________________)1 4110 1 825 5900 t
10 R f
( galement)1 361( \302)1 5( les investissements ont e)4 1119( et)1 123( L'emploi)1 536(Employment and investment levels also climbed.)5 1966 6 825 6020 t
( .)1 20(augmente \302)1 393 2 2955 6140 t
10 S f
(_ __________________________________________________________________________________)1 4110 1 825 6180 t
10 R f
( the new)2 340(Following a two-year transitional period,)4 1640 2 825 6300 t
( Mineral Water came)3 919(Foodstuffs Ordinance for)2 1061 2 825 6420 t
(into effect on April 1, 1988. Speci\256cally, it)7 1980 1 825 6540 t
( stringent requirements regarding)3 1394(contains more)1 586 2 825 6660 t
(quality consistency and purity guarantees.)4 1678 1 825 6780 t
( es)1 78( \302)1 5( sur les denre)3 559( rale)1 144( \302)1 5( de)1 89( \302)1 5( ordonnance fe)2 612(La nouvelle)1 483 9 2955 6300 t
( eaux)1 251(alimentaires concernant entre autres les)4 1729 2 2955 6420 t
( en vigueur le 1er avril 1988)6 1275( e)1 39( \302)1 5( entre)1 248( rales,)1 208(mine \302)1 205 6 2955 6540 t
( transitoire de deux ans, exige)5 1252( riode)1 200( \302)1 5( pe)1 131( une)1 184(apre \301s)1 208 6 2955 6660 t
( \302)1 5( constance dans la qualite)4 1036(surtout une plus grande)3 944 3 2955 6780 t
( .)1 20( \302)1 5(et une garantie de la purete)5 1077 3 2955 6900 t
10 S f
(\347)2880 6920 w
(\347)2880 6820 w
(\347)2880 6720 w
(\347)2880 6620 w
(\347)2880 6520 w
(\347)2880 6420 w
(\347)2880 6320 w
(\347)2880 6220 w
(\347)2880 6120 w
(\347)2880 6020 w
(\347)2880 5920 w
(\347)2880 5820 w
(\347)2880 5720 w
(\347)2880 5620 w
(\347)2880 5520 w
(\347)2880 5420 w
(\347)2880 5320 w
(\347)2880 5220 w
(\347)2880 5120 w
(\347)2880 5020 w
(\347)2880 4920 w
(\347)2880 4820 w
10 R f
( for use in aligning)4 827(Aligning sentences is just a \256rst step toward constructing a probabilistic dictionary)11 3493 2 720 7280 t
( or for constructing a bilingual concordance for use in lexicography.)10 3039(words in machine translation,)3 1281 2 720 7400 t
cleartomark
showpage
saveobj restore
%%EndPage: 2 2
%%Page: 3 3
/saveobj save def
mark
3 pagesetup
10 R f
(- 3 -)2 166 1 2797 480 t
( al, 1990\), \(Kay,)3 684(Although there has been some previous work on the sentence alignment, e.g., \(Brown et)13 3636 2 720 960 t
( \(Warwick, personal communication\), the alignment task remains a signi\256cant)9 3261(personal communication\),)1 1059 2 720 1080 t
( many potential users from reaping many of the bene\256ts of bilingual corpora, because)13 3533(obstacle preventing)1 787 2 720 1200 t
( are often unavailable, unreliable, and/or inef\256cient \(Zampolli, personal)8 3306(the proposed solutions)2 1014 2 720 1320 t
(communication\), \(Warwick, personal communication\).)3 2196 1 720 1440 t
( approach \(Kay,)2 669( Kay's)1 303( on sentence alignment has yet to be published.)8 2004(Almost all of the previous work)5 1344 4 720 1680 t
(personal communication\) is said to be very ``heavy''; it ought to be possible to achieve fairly reasonable)16 4320 1 720 1800 t
( there is a)3 391( \(Brown et al., 1990\),)4 861( In)1 134(results with much less computation \(Warwick, personal communication\).)7 2934 4 720 1920 t
( its entirity, it reads:)4 803( In)1 133(very brief discussion of sentence alignment.)5 1758 3 720 2040 t
8 R f
( Approximately)1 523( been able to extract about 3 million pairs of sentences by using a statistical algorithm based on length.)18 3284(... we have)2 343 3 890 2340 t
(99% of these pairs are made up of sentences that are actually translations of one another.)15 2818 1 870 2460 t
10 R f
( the main topic of their)5 953(Brown et al.'s discussion was justi\256ably brief because sentence alignment was not)11 3367 2 720 2820 t
( methods for machine translation.)4 1364(paper; they were trying to argue for a revival of statistical)10 2350 2 720 2940 t
7 R f
(1)4434 2900 w
10 R f
(Nevertheless,)4500 2940 w
( of a practical sentence)4 921(it would be helpful to the research community to provide a more detailed discussion)13 3399 2 720 3060 t
(alignment algorithm and its evaluation.)4 1569 1 720 3180 t
( model of)2 425(Our paper will describe a program for aligning sentences based on a very simple statistical)14 3895 2 720 3420 t
( longer sentences in one language tend to be)8 1915( model makes use of the fact that)7 1457( The)1 225(character lengths.)1 723 4 720 3540 t
( the other language, and that shorter sentences tend to be translated into)12 2937(translated into longer sentences in)4 1383 2 720 3660 t
( the)1 155( probabilistic score is assigned to each pair of proposed sentence pairs, based on)13 3316( A)1 131(shorter sentences.)1 718 4 720 3780 t
( probabilistic score is)3 855( This)1 229( \(in characters\) and the variance of this ratio.)8 1794(ratio of lengths of the two sentences)6 1442 4 720 3900 t
( the maximum likelihood alignment of)5 1682(used in a dynamic programming framework in order to \256nd)9 2638 2 720 4020 t
(sentences.)720 4140 w
( evaluation was performed)3 1097( An)1 184( as well as it does.)5 787(It is remarkable that such a simple approach can work)9 2252 4 720 4380 t
( reports issued by the Union Bank of Switzerland \(UBS\) in)10 2479(based on a trilingual corpus of 15 economic)7 1841 2 720 4500 t
( and 188 paragraphs in English and)6 1553(English, French and German \(N = 14,680 words, 725 sentences,)9 2767 2 720 4620 t
( aligned all but 4% of the)6 1136( method correctly)2 748( The)1 227(corresponding numbers in the other two languages\).)6 2209 4 720 4740 t
( By)1 176( is possible to extract a large subcorpus which has a much smaller error rate.)14 3172( it)1 89(sentences. Moreover,)1 883 4 720 4860 t
( were)1 226( There)1 290( error rate is reduced from 4% to 0.7%.)8 1626(selecting the best scoring 80% of the alignments, the)8 2178 4 720 4980 t
( number of errors in each of the English-French and English-German alignments,)11 3574(roughly the same)2 746 2 720 5100 t
(suggesting that the method may be fairly language independent.)8 2555 1 720 5220 t
(To further research in bilingual corpora, the Appendix contains C-code for the core of)13 3430 1 720 5400 t
10 I f
(align)4175 5400 w
10 R f
( sentence)1 369(. Also,)1 290 2 4381 5400 t
( the the Hansards from 350 days in 1986, 1987, and 1988 may be requested from the)16 3538(aligned versions of)2 782 2 720 5520 t
( include about 700,000 sentences with about 20 million words in each language.)12 3202(authors. These)1 607 2 720 5640 t
9 B f
( Alignment)1 428(2. Paragraph)1 529 2 720 5880 t
10 R f
( paragraphs are aligned, and then sentences)6 1797( First)1 246( alignment program is a two step process.)7 1743(The sentence)1 534 4 720 6180 t
( our trilingual corpus of Swiss)5 1303( is fairly easy to align paragraphs in)7 1568( It)1 131(within a paragraph are aligned.)4 1318 4 720 6300 t
( short headings)2 621( there are some)3 627( However,)1 447(banking reports since the boundaries are usually clearly marked.)8 2625 4 720 6420 t
( these short ``pseudo-paragraphs'' are not)5 1694( Moreover,)1 474( confused with paragraphs.)3 1093(and signatures that can be)4 1059 4 720 6540 t
( it is very easy to distinguish the short ``pseudo-)9 2194( Fortunately,)1 565(always translated into all languages.)4 1561 3 720 6660 t
8 S1 f
(__________________)720 6840 w
8 R f
( tried, but they are being revived)6 1065( methods were popular in the 1950s when machine translation was \256rst unsuccessfully)12 2822(1. Statistical)1 433 3 720 6960 t
(with the availability of extensive machine readable bilingual corpora.)8 2204 1 840 7050 t
cleartomark
showpage
saveobj restore
%%EndPage: 3 3
%%Page: 4 4
/saveobj save def
mark
4 pagesetup
10 R f
(- 4 -)2 166 1 2797 480 t
( following histogram shows very clearly a)6 1693( The)1 206(paragraphs'' from real ones by a simple threshold on length.)9 2421 3 720 960 t
( and that)2 358( turns out that ``pseudo-paragraphs'' usually have less than 50 characters)10 2995( It)1 119(bimodal distribution.)1 848 4 720 1080 t
(real paragraphs usually have more than 100 characters.)7 2193 1 720 1200 t
10 B f
(Bimodal Distribution of Paragraph Lengths)4 1874 1 1943 1380 t
10 H f
( shows the frequency of English)5 1703(Figure 1. This histogram)3 1249 2 1368 1500 t
( There)1 325( 200 characters.)2 734(paragraphs whose lengths were less than)5 1893 3 1368 1620 t
( the)1 191(is a clear gap around 50, with headings and signatures in)10 2761 2 1368 1740 t
(short group and content paragraphs in the long group.)8 2403 1 1368 1860 t
10 R f
( the paragraph aligning algorithm is)5 1484(Since pseudo-paragraphs can be distinguished on the basis of length,)9 2836 2 720 2100 t
( considering)1 498( When)1 295( begins by considering the \256rst two paragraphs in a pair of documents.)12 2906( It)1 119(very simple.)1 502 5 720 2220 t
( 50 characters, then)3 817(two paragraphs, if both have length over 100 characters, or both have lengths under)13 3503 2 720 2340 t
( paragraphs is short, while the other is long, then align the)11 2350( if one of the)4 526( However)1 419(align them, and continue.)3 1025 4 720 2460 t
(short paragraph with null, and continue.)5 1595 1 720 2580 t
( one)1 175( algorithm was unable to align)5 1238( The)1 210(For English and German, this simple algorithm made no mistakes.)9 2697 4 720 2760 t
( turned out that the French translation of the)8 1847( It)1 122(of the French documents with either English or German.)8 2351 3 720 2880 t
( \(This)1 264( a heading and another long paragraph.)6 1572(document had omitted one long paragraph and had duplicated)8 2484 3 720 3000 t
( this frequency of)3 776( If)1 141( remainder of this experiment.\))4 1339(document was excluded for the purposes of the)7 2064 4 720 3120 t
( elaborate paragraph)2 819(paragraph errors were found in a larger corpus, it might be worthwhile building a more)14 3501 2 720 3240 t
(alignment mechanism.)1 905 1 720 3360 t
9 B f
( Dynamic Programming Framework)3 1409(3. A)1 179 2 720 3720 t
10 R f
( program makes use of the fact)6 1254( The)1 209(Now, let us consider how sentences can be aligned within a paragraph.)11 2857 3 720 3900 t
( and)1 172(that longer sentences in one language tend to be translated into longer sentences in the other language,)16 4148 2 720 4020 t
( probabilistic score is assigned to each)6 1555( A)1 126( to be translated into shorter sentences.)6 1574(that shorter sentences tend)3 1065 4 720 4140 t
( of lengths of the two sentences \(in characters\) and the)10 2362(proposed pair of sentences, based on the ratio)7 1958 2 720 4260 t
( score is used in a dynamic programming framework in order to)11 2669( probabilistic)1 535( This)1 238(variance of this ratio.)3 878 4 720 4380 t
(\256nd the maximum likelihood alignment of sentences.)6 2130 1 720 4500 t
(We were led to this approach after noting that the lengths \(in characters\) of English and German paragraphs)17 4320 1 720 4680 t
( correlation between the lengths)4 1283( high)1 206( The)1 208(are highly correlated \(.991\), as illustrated in the following \256gure.)9 2623 4 720 4800 t
( paragraphs suggested using sentence lengths as a basis for aligning sentences within a)13 3731(of the aligned)2 589 2 720 4920 t
(paragraph.)720 5040 w
10 B f
(Paragraph Lengths are Highly Correlated)4 1799 1 1980 5340 t
10 H f
( of English)2 561( horizontal axis shows the length)5 1676( The)1 274(Figure 2.)1 441 4 1368 5460 t
( scale shows the lengths of the)6 1554(paragraphs, while the vertical)3 1398 2 1368 5580 t
( in their)2 433( correlation)1 547( The)1 280(corresponding German paragraphs.)2 1692 4 1368 5700 t
(lengths is .991.)2 676 1 1368 5820 t
10 R f
(Statistical techniques for alignment of sequences have been developed for use in a variety of settings, such)16 4320 1 720 6060 t
(as the matching of genetic code sequences from different species, speech sequences from different speakers,)14 4320 1 720 6180 t
( from different locations)3 1000(gas chromatograph sequences from different compounds, and geologic sequences)8 3320 2 720 6300 t
( between the two languages of)5 1221( the extent that the order of the sentences does not differ)11 2275( To)1 164(\(Kruskal, 1983\).)1 660 4 720 6420 t
( of the)2 301( Details)1 356(a bilingual corpus, we could expect these sequence matching techniques to be useful.)12 3663 3 720 6540 t
( differ considerably from one application to another, but all use a distance measure to)14 3463(alignment techniques)1 857 2 720 6660 t
(compare two individual elements within the sequences, and a dynamic programming algorithm to minimize)13 4320 1 720 6780 t
( the sentence alignment)3 1027( Placing)1 379(the total distances between aligned elements within two sequences.)8 2914 3 720 6900 t
( need to develop a new distance measure, but that standard dynamic)11 2744(problem within this setting, we \256nd we)6 1576 2 720 7020 t
(programming techniques suf\256ce.)2 1312 1 720 7140 t
( measures as belonging to one of two classes, which they)10 2377(Kruskal and Liberman \(1983\) describe distance)5 1943 2 720 7320 t
( difference between the two lies in how they treat a distance between one)13 3073( The)1 217(call trace and time-warp.)3 1030 3 720 7440 t
cleartomark
showpage
saveobj restore
%%EndPage: 4 4
%%Page: 5 5
/saveobj save def
mark
5 pagesetup
10 R f
(- 5 -)2 166 1 2797 480 t
( trace applications, such as)4 1139( In)1 151(element of one sequence and several elements from the other sequence.)10 3030 3 720 960 t
( time-warp)1 446( In)1 144( element must match just one of the several elements well.)10 2443(genetic code matching, the one)4 1287 4 720 1080 t
( one element must match each of the several elements)9 2220(applications, such as speech template matching, the)6 2100 2 720 1200 t
( distance measure for sentence matching must lie outside these two groups, because it needs to)15 3987(well. A)1 333 2 720 1320 t
( we need a new distance)5 1036( Thus)1 264( element.)1 380(compare the aggregate of the the several elements with the one)10 2640 4 720 1440 t
(measure.)720 1560 w
(The ideal distance measure is based on probability, because new information can then be combined with)15 4320 1 720 1740 t
( a distance measure must be additive to use the dynamic)10 2471( Since)1 295( in a consistent way.)4 905(old information)1 649 4 720 1860 t
( an estimate of the)4 840(programming techniques, the logarithm of the probability is used. Thus we seek)11 3480 2 720 1980 t
(probability that two sentences or groups of sentences match.)8 2410 1 720 2100 t
( in one language gives rise to a random number of)10 2142( character)1 402( Each)1 262(We use the following simple model.)5 1514 4 720 2280 t
( identically distributed with a)4 1176( random variables are independent and)5 1553( These)1 290(characters in the other language.)4 1301 4 720 2400 t
( of the the distribution.)4 922( model is then speci\256ed by the mean and standard deviation)10 2396( The)1 206(normal distribution.)1 796 4 720 2520 t
(Let)720 2640 w
10 I f
(c)878 2640 w
10 R f
(be the expected number of characters in language 2 per character in language 1, and)14 3347 1 947 2640 t
10 I f
(s)4319 2640 w
7 R f
(2)4369 2600 w
10 R f
(be the variance)2 603 1 4437 2640 t
( the expected number of)4 1040( Then)1 274( language 1.)2 523(of the number of characters in language 2 per character in)10 2483 4 720 2760 t
(characters in the sentences translating a group of sentences of length)10 2792 1 720 2880 t
10 I f
(l)3543 2880 w
7 R f
(1)3582 2900 w
10 R f
(in language 1 is)3 645 1 3656 2880 t
10 I f
(l)4331 2880 w
7 R f
(1)4370 2900 w
10 I f
(c)4421 2880 w
10 R f
(with variance)1 545 1 4495 2880 t
10 I f
(l)720 3021 w
7 R f
(1)759 3041 w
10 I f
(s)810 3021 w
7 R f
(2)860 2981 w
10 R f
(. Let)1 210 1 903 3021 t
10 S f
(d =)1 153 1 1140 3021 t
10 R f
(\()1342 3021 w
10 I f
(l)1383 3021 w
7 R f
(2)1422 3041 w
10 S f
(-)1514 3021 w
10 I f
(l)1618 3021 w
7 R f
(1)1657 3041 w
10 I f
(c)1708 3021 w
10 R f
(\))1760 3021 w
10 I f
(/)1801 3021 w
14 S f
(\326` ``)1 276 1 1837 3041 t
10 I f
(l)1922 3021 w
7 R f
(1)1961 3041 w
10 I f
(s)2012 3021 w
7 R f
(2)2062 2981 w
10 R f
( if sentences of length)4 884(. Then)1 282 2 2121 3021 t
10 I f
(l)3314 3021 w
7 R f
(1)3353 3041 w
10 R f
(and)3423 3021 w
10 I f
(l)3595 3021 w
7 R f
(2)3634 3041 w
10 R f
(in the two languages do match,)5 1258 1 3705 3021 t
10 S f
(d)4991 3021 w
10 R f
(has a normal distribution with mean zero and variance one.)9 2362 1 720 3141 t
(To estimate Prob\(match)2 982 1 720 3321 t
10 S f
(\357d)1702 3321 w
10 R f
(\), we appeal to Bayes Theorem, which says that this conditional probability is)12 3240 1 1800 3321 t
(proportional to Prob\()2 888 1 720 3441 t
10 S f
(d\357)1608 3441 w
10 R f
( take Prob\()2 480( We)1 210(match\) P\(match\).)1 715 3 1706 3441 t
10 S f
(d\357)3111 3441 w
10 R f
(match\) to be the probability that a random)7 1831 1 3209 3441 t
(variable,)720 3561 w
10 I f
(z)1103 3561 w
10 R f
( normal distribution, has magnitude at least as)7 1929(, with a standardized \(mean zero, variance one\))7 1969 2 1142 3561 t
(large as)1 307 1 720 3681 t
10 S f
(\357d\357)1052 3681 w
10 R f
( is,)1 117(. That)1 258 2 1165 3681 t
10 I f
(Prob)870 3861 w
10 R f
(\()1078 3861 w
10 S f
(d\357)1119 3861 w
10 I f
(match)1216 3861 w
10 R f
(\))1468 3861 w
10 S f
(=)1558 3861 w
10 R f
( 1)1 58(2 \()1 124 2 1662 3861 t
10 S f
(-)1860 3861 w
10 I f
(P)1931 3861 w
10 R f
(\()2000 3861 w
10 S f
(\357d\357)2033 3861 w
10 R f
(\) \))1 74 1 2178 3861 t
(where)720 4101 w
10 I f
(P)1301 4362 w
10 R f
(\()1370 4362 w
10 S f
(d)1411 4362 w
10 R f
(\))1468 4362 w
10 S f
(=)1558 4362 w
11 S f
(\326` ``)1 190 1 1687 4458 t
10 R f
(2)1756 4458 w
10 S f
(p)1814 4458 w
10 R f
(1)1761 4302 w
10 S1 f
(_ ____)1 228 1 1672 4332 t
7 S f
(- \245)1 101 1 1910 4462 t
14 S f
(\362)1925 4372 w
7 S f
(d)1943 4231 w
10 I f
(e)2018 4362 w
7 S f
(-)2073 4322 w
7 I f
(t)2123 4322 w
4 R f
(2)2149 4285 w
7 I f
(/)2179 4322 w
7 R f
(2)2204 4322 w
10 I f
(dt)2255 4362 w
10 R f
( sentences being)2 690(We take the prior probability of a match, P\(match\), to depend only on the number of)15 3630 2 720 4682 t
( distance measure used thus depends on)6 1604( The)1 208(matched in the two languages, as given in Table 1 below.)10 2321 3 720 4802 t
10 I f
(c)4880 4802 w
10 R f
(,)4924 4802 w
10 I f
(s)4976 4802 w
10 R f
(,)5015 4802 w
(and the probabilities of matching given numbers of sentences.)8 2477 1 720 4922 t
(We can estimate)2 673 1 720 5102 t
10 I f
(c)1425 5102 w
10 R f
( gives)1 244( This)1 236( from the aggregate lengths of the matched paragraphs.)8 2261(, the ratio of lengths)4 830 4 1469 5102 t
( characters per English character)4 1308(German characters per English character = 81105/73481 = 1.1, and French)10 3012 2 720 5222 t
( not)1 158( explained later, using these precise and language dependent quantities does)10 3070( As)1 165(= 72302/68450 = 1.06.)3 927 4 720 5342 t
(improve the performance over)3 1240 1 720 5462 t
10 I f
(c)1995 5462 w
10 S f
(=)2088 5462 w
10 R f
( If)1 125(1, which gives a symmetric and simpler model.)7 1953 2 2192 5462 t
10 I f
(align)4304 5462 w
10 R f
(is used with)2 496 1 4544 5462 t
( by more than ten percent, this parameter should be)9 2271(languages for which the character lengths differ)6 2049 2 720 5582 t
(reviewed.)720 5702 w
(Our model assumes that variance)4 1377 1 720 5882 t
10 I f
(s)2135 5882 w
7 R f
(2)2185 5842 w
10 R f
( follow \256gure doesn't contradict this)5 1527( The)1 219(is proportional to length.)3 1028 3 2266 5882 t
( \256gure is the)3 518( line shown in the)4 743( The)1 213(assumption, and allows us to estimate the constant of proportionality.)9 2846 4 720 6002 t
( for English-German is)3 993( result)1 271( The)1 229(result of a robust regression.)4 1230 4 720 6122 t
10 I f
(s)3493 6122 w
7 R f
(2)3543 6082 w
10 S f
(=)3635 6122 w
10 R f
( and for English-French is)4 1143(7. 3,)1 158 2 3739 6122 t
10 I f
(s)720 6242 w
7 R f
(2)770 6202 w
10 S f
(=)862 6242 w
10 R f
( showed that the differences between these two slopes)8 2156( the sensitivity study described later)5 1440( Again,)1 320(5. 6.)1 158 4 966 6242 t
(were not important, so we combined the data across the languages, and used)12 3044 1 720 6362 t
10 I f
(s)3789 6362 w
7 R f
(2)3839 6322 w
10 S f
(=)3931 6362 w
10 R f
( in)1 103(6. 8)1 133 2 4035 6362 t
10 I f
(align)4296 6362 w
10 R f
(.)4502 6362 w
cleartomark
showpage
saveobj restore
%%EndPage: 5 5
%%Page: 6 6
/saveobj save def
mark
6 pagesetup
10 R f
(- 6 -)2 166 1 2797 480 t
10 B f
(Variance Is Modeled Proportional to Length)5 1902 1 1929 960 t
10 H f
( of English)2 577( horizontal axis plots the length)5 1644( The)1 282(Figure 3.)1 449 4 1368 1080 t
( shows the square of the)5 1285(paragraphs, while the vertical axis)4 1667 2 1368 1200 t
( of)1 165(difference of English and German lengths, an estimate)7 2787 2 1368 1320 t
( model the)2 529( We)1 236( variance increases with length.)4 1520(variance. The)1 667 4 1368 1440 t
( Five)1 268( to length, as shown by the line.)7 1569(increase as proportional)2 1115 3 1368 1560 t
( been)1 286(extreme points lying above the top of this \256gure have)9 2666 2 1368 1680 t
(suppressed since they contributed nothing to the robust)7 2952 1 1368 1800 t
(regression.)1368 1920 w
10 R f
( \(1-1\), but we)3 588(A sentence in one language normally matches exactly one sentence in the other language)13 3732 2 720 2280 t
( is, there are four categories for matching)7 1729( That)1 245( and 2-2.)2 376(allow three other possibilities as well: 1-0, 2-1,)7 1970 4 720 2400 t
( 1-0)1 166( The)1 213(groups of sentences: one to zero \(1-0\), one to one \(1-1\), two to one \(2-1\), and two to two \(2-2\).)19 3941 3 720 2520 t
( the 2-1)2 339( Likewise)1 434(category includes all sentences in either language aligned with nothing in the other.)12 3547 3 720 2640 t
( The)1 222( in the other.)3 556(category includes cases with a pair of sentences in either language aligned with one)13 3542 3 720 2760 t
(probabilities of the categories were determined from the data as shown in the following table.)14 3735 1 720 2880 t
10 B f
(Table 1)1 320 1 2720 3060 t
(Categories of Matching)2 998 1 2368 3180 t
10 S f
(_ _____________________________)1 1451 1 2154 3200 t
10 R f
(category frequency fraction)2 1351 1 2204 3320 t
10 S f
(_ _____________________________)1 1451 1 2154 3340 t
10 R f
( .0099)1 516(1-0 13)1 792 2 2204 3460 t
( .89)1 416(1-1 1167)1 792 2 2204 3580 t
( .089)1 466(2-1 117)1 792 2 2204 3700 t
( .011)1 466(2-2 15)1 792 2 2204 3820 t
10 S f
( \347)1 -1451(_ _____________________________)1 1451 2 2154 3840 t
(\347)2154 3800 w
(\347)2154 3700 w
(\347)2154 3600 w
(\347)2154 3500 w
(\347)2154 3400 w
(\347)2154 3300 w
(\347)3605 3840 w
(\347)3605 3800 w
(\347)3605 3700 w
(\347)3605 3600 w
(\347)3605 3500 w
(\347)3605 3400 w
(\347)3605 3300 w
10 R f
( right hand column times the probability P\()7 1732(The fractions shown in the)4 1065 2 720 4080 t
10 S f
(d\357)3517 4080 w
10 R f
(match\), or actually the logarithm of)5 1425 1 3615 4080 t
( measure for a proposed alignment. The distance measure thus has six)11 3020(the product, gives the distance)4 1300 2 720 4200 t
(parameters:)720 4320 w
10 I f
(c)1215 4320 w
10 R f
(,)1259 4320 w
10 I f
(s)1314 4320 w
10 R f
(,)1353 4320 w
10 I f
(f)1408 4320 w
7 R f
(01)1447 4340 w
10 R f
(,)1525 4320 w
10 I f
(f)1580 4320 w
7 R f
(11)1619 4340 w
10 R f
(,)1697 4320 w
10 I f
(f)1752 4320 w
7 R f
(21)1791 4340 w
10 R f
(and)1899 4320 w
10 I f
(f)2073 4320 w
7 R f
(22)2112 4340 w
10 R f
( also refer to this distance measure as the)8 1675(. We)1 218 2 2190 4320 t
10 I f
(probability score)1 691 1 4113 4320 t
10 R f
(. The)1 236 1 4804 4320 t
( Riley to align the)4 741(distance measure was then used in a dynamic programming subroutine written by Mike)12 3579 2 720 4440 t
(sentences.)720 4560 w
9 B f
(4. Evaluation)1 534 1 720 4800 t
10 R f
( alignments, and two corroborative judges independently aligned selected)8 3049(A primary judge did all of the)6 1271 2 720 4980 t
( three languages in columns, each)5 1432( doing so, they used materials prepared with the)8 2055( In)1 151(hard paragraphs.)1 682 4 720 5100 t
( corresponding sentences beginning at the same)6 1974(paragraph begun on a new page, and having numerically)8 2346 2 720 5220 t
( a sentence was)3 635( If)1 122( alignment by drawing lines between sentences that shared a clause.)10 2768( did the)2 314(level. They)1 481 5 720 5340 t
(not translated, they wrote in a zero and drew a line to that.)12 2323 1 720 5460 t
( primary judge is a native speaker of English)8 1842( The)1 212(All of the sentences were aligned by the primary judge.)9 2266 3 720 5640 t
( of the other two judges aligned one of the)9 1833( Each)1 265( knowledge of French and of German.)6 1617(with a reading)2 605 4 720 5760 t
( of the other judges is a)6 938( One)1 217( chosen as particularly dif\256cult.)4 1266(languages in 43 paragraphs with 230 sentences,)6 1899 4 720 5880 t
( German and \257uent in)4 943(native speaker of French and \257uent in English; the other is a native speaker of)14 3377 2 720 6000 t
( to be wrong on one alignment in each of French and German in the)14 2748( primary judge was found)4 1034(English. The)1 538 3 720 6120 t
(hard group of paragraphs.)3 1030 1 720 6240 t
( trace each)2 429(The 43 hard paragraphs were selected by making all three pairs of alignments, then attempting to)15 3891 2 720 6420 t
( to English. The 43 paragraphs)5 1231(sentence from English to German, from there to French, and from there back)12 3089 2 720 6540 t
( group of)2 410( This)1 250( process could not be completed around the loop.)8 2137(included all sentences in which this)5 1523 4 720 6660 t
( a trilingual criterion, had 82 percent of the errors made by the program,)13 3134(paragraphs, selected through)2 1186 2 720 6780 t
( an error rate of only one half of one)9 1457( the primary judge had)4 904( Since)1 272(another justi\256cation for calling them hard.)5 1687 4 720 6900 t
( hard paragraphs, we believe that one judge is suf\256cient for de\256ning the correct alignment)14 3660(percent on these)2 660 2 720 7020 t
(of the sentences.)2 662 1 720 7140 t
( the program, we considered only the English-German and English-French alignments,)10 3767(In evaluating)1 553 2 720 7320 t
( are)1 147( Errors)1 300( alignments given the other two is questionable.)7 1917(because the independence of the French-German)5 1956 4 720 7440 t
cleartomark
showpage
saveobj restore
%%EndPage: 6 6
%%Page: 7 7
/saveobj save def
mark
7 pagesetup
10 R f
(- 7 -)2 166 1 2797 480 t
( is, each correct alignment that is not called for)9 1892( That)1 235(reported with respect to the alignments judged correct.)7 2193 3 720 960 t
( convention allows us to compare the performances of different)9 2584( This)1 234( scored as an error.)4 779(by the program is)3 723 4 720 1080 t
( 621 total alignments for English-French and 19 errors out of 695)11 2688( were 36 errors out of)5 891(algorithms. There)1 741 3 720 1200 t
( there were 55 errors on 1316 alignments, or 4.2 percent errors.)11 2521( Overall,)1 374(alignments for English-German.)2 1290 3 720 1320 t
(The following table shows the errors by match category.)8 2254 1 720 1500 t
10 B f
(Table 2)1 320 1 2720 1680 t
(Complex Matches are More Dif\256cult)4 1563 1 2098 1800 t
10 S f
(__________________________________________________________________)1231 1820 w
10 R f
( total)1 719( English-German)1 957(category English-French)1 1193 3 1281 1940 t
10 S f
(__________________________________________________________________)1231 1960 w
10 R f
( %)1 304( err)1 324( N)1 357( %)1 304( err)1 299( N)1 332( %)1 304(N err)1 371 8 1813 2080 t
10 S f
(__________________________________________________________________)1231 2100 w
10 R f
( 13 100)2 560( 13)1 425( 5 100)2 560( 5)1 375( 100)1 305( 8)1 255(1-0 8)1 538 7 1386 2220 t
( 2.0)1 380( 23)1 255( 1167)1 350( 1.4)1 405( 9)1 230( 625)1 300( 2.6)1 380( 14)1 255(1-1 542)1 538 9 1386 2340 t
( 9)1 305( 10)1 255( 117)1 350( 3.4)1 405( 2)1 230( 58)1 375( 8 14)2 560(2-1 59)1 538 8 1386 2460 t
( 5 33)2 560( 15)1 425( 33)1 330( 2)1 230( 6)1 375( 3 33)2 560(2-2 9)1 538 7 1386 2580 t
( 100)1 305( 2)1 255( 2)1 425( 1 100)2 560( 1)1 375( 100)1 305( 1)1 255(3-1 1)1 538 8 1386 2700 t
( 100)1 305( 1)1 255( 1)1 425( 0)1 330( 0)1 230( 0)1 375( 100)1 305( 1)1 255(3-2 1)1 538 9 1386 2820 t
10 S f
(__________________________________________________________________ \347)1 0 1 1231 2840 t
(\347)1231 2820 w
(\347)1231 2720 w
(\347)1231 2620 w
(\347)1231 2520 w
(\347)1231 2420 w
(\347)1231 2320 w
(\347)1231 2220 w
(\347)1231 2120 w
(\347)1231 2020 w
(\347)1231 1920 w
(\347)1699 2840 w
(\347)1699 2820 w
(\347)1699 2720 w
(\347)1699 2620 w
(\347)1699 2520 w
(\347)1699 2420 w
(\347)1699 2320 w
(\347)1699 2220 w
(\347)1699 2120 w
(\347)1699 2020 w
(\347)1699 1920 w
(\347)2634 2840 w
(\347)2634 2820 w
(\347)2634 2720 w
(\347)2634 2620 w
(\347)2634 2520 w
(\347)2634 2420 w
(\347)2634 2320 w
(\347)2634 2220 w
(\347)2634 2120 w
(\347)2634 2020 w
(\347)2634 1920 w
(\347)3569 2840 w
(\347)3569 2820 w
(\347)3569 2720 w
(\347)3569 2620 w
(\347)3569 2520 w
(\347)3569 2420 w
(\347)3569 2320 w
(\347)3569 2220 w
(\347)3569 2120 w
(\347)3569 2020 w
(\347)3569 1920 w
(\347)4529 2840 w
(\347)4529 2820 w
(\347)4529 2720 w
(\347)4529 2620 w
(\347)4529 2520 w
(\347)4529 2420 w
(\347)4529 2320 w
(\347)4529 2220 w
(\347)4529 2120 w
(\347)4529 2020 w
(\347)4529 1920 w
10 R f
( 2-1 alignments, which come next, have four)7 1790( The)1 206( shows that 1-1 alignments are by far the easiest.)9 1950(The table)1 374 4 720 3080 t
( the alignments are found.)4 1048( 2-2 alignments are harder still, but a majority of)9 1969( The)1 208(times the error rate for 1-1.)5 1095 4 720 3200 t
( not possible for the algorithm, so naturally it missed all three of these.)13 2953(The 3-1 and 3-2 alignments were)5 1367 2 720 3320 t
( of the sentences that the)5 994( Furthermore,)1 576( all cases were missed.)4 914(The most surprising category is 1-0, in which)7 1836 4 720 3440 t
( none belong there, so adding inducements of)7 1940(algorithm is most inclined to assign to the 1-0 category,)9 2380 2 720 3560 t
( errors without reducing the errors reported on here.)8 2101(various kinds to make 1-0 assignments introduces new)7 2219 2 720 3680 t
( the two documents are translations of each other fails, which is the)12 2795(Apparently when the assumption that)4 1525 2 720 3800 t
( category, then we have considerable trouble \256nding the correct alignment without)11 3613(case for the 1-0)3 707 2 720 3920 t
(knowledge of the languages.)3 1142 1 720 4040 t
( was length of the)4 802( First)1 257( error rate on four variables.)5 1233(We investigated the possible dependence of the)6 2028 4 720 4220 t
( was the)2 351( Second)1 356( total lengths of the sentences grouped for each language.)9 2397(alignment: the average of the)4 1216 4 720 4340 t
( was the)2 355( Third)1 286( the paragraphs in which the alignment occurred.)7 2049(paragraph length: the average length of)5 1630 4 720 4460 t
( was the probability score: the)5 1246( Fourth)1 326(complexity: whether the alignment was of the 2-1 or 2-2 category.)10 2748 3 720 4580 t
( alignment if the program was correct, or the maximum score for any sentence)13 3425(score assigned to the)3 895 2 720 4700 t
(involved in the true alignment if it was not correct.)9 2031 1 720 4820 t
( was judged either right or wrong, we used logistic regression of the judgement on the)15 3464(Since each alignment)2 856 2 720 5000 t
( coef\256cients and their standard deviations are shown in the following table.)11 3001( The)1 205(four variables.)1 576 3 720 5120 t
10 B f
(Table 3)1 320 1 2720 5300 t
(Probability Score Predicts Errors)3 1434 1 2163 5420 t
10 S f
(_ ____________________________________)1 1835 1 1962 5440 t
10 R f
( dev.)1 194( std.)1 295(variable coef\256cient)1 1070 3 2188 5560 t
10 S f
(_ ____________________________________)1 1835 1 1962 5580 t
10 R f
( .011)1 531(score .071)1 1098 2 2012 5700 t
( .47)1 531(complexity .52)1 1048 2 2012 5820 t
( .0029)1 531( .0013)1 530(sentence length)1 618 3 2012 5940 t
( .0005)1 531( .0003)1 475(paragraph length)1 673 3 2012 6060 t
10 S f
( \347)1 -1835(_ ____________________________________)1 1835 2 1962 6080 t
(\347)1962 6040 w
(\347)1962 5940 w
(\347)1962 5840 w
(\347)1962 5740 w
(\347)1962 5640 w
(\347)1962 5540 w
(\347)3797 6080 w
(\347)3797 6040 w
(\347)3797 5940 w
(\347)3797 5840 w
(\347)3797 5740 w
(\347)3797 5640 w
(\347)3797 5540 w
10 R f
(The table shows that the probability score assigned to an alignment is a good predictor of whether it is in)19 4320 1 720 6320 t
( other factor considered was signi\256cantly different from no effect after considering the probability)13 3929(error. No)1 391 2 720 6440 t
( by including any more information from these)7 1978( we could not improve the probability score)7 1843(score. Thus)1 499 3 720 6560 t
(sources.)720 6680 w
( predicts the error rate may be useful, as suggested by the following)12 2895(The fact that the probability score)5 1425 2 720 6860 t
(\256gure.)720 6980 w
cleartomark
showpage
saveobj restore
%%EndPage: 7 7
%%Page: 8 8
/saveobj save def
mark
8 pagesetup
10 R f
(- 8 -)2 166 1 2797 480 t
10 B f
(Probability Score Allows Selecting Low Error Subset)6 2266 1 1747 960 t
10 H f
( retaining the alignments with the lowest)6 1810( By)1 177(Figure 4.)1 400 3 1368 1080 t
10 I f
(p)3785 1080 w
10 H f
(percent of)1 452 1 3868 1080 t
( as shown on the horizontal axis, the error)8 1952(the probability scores,)2 1000 2 1368 1200 t
( alignments is as shown on the vertical)7 1837(rate among the retained)3 1115 2 1368 1320 t
( error rate of about two thirds of one percent can be)11 2543(axis. An)1 409 2 1368 1440 t
(obtained with 80 percent of the alignments retained.)7 2307 1 1368 1560 t
10 R f
( tests of the error rate in the Hansards suggests that the overall error rate is about two percent,)18 3841(Less formal)1 479 2 720 1800 t
( the Hansards have)3 774( Apparently)1 505( the easy 80 percent of the sentences is about 0.4%.)10 2111(while the error rate for)4 930 4 720 1920 t
(better translations than these UBS reports.)5 1687 1 720 2040 t
9 B f
( of Algorithm Variations)3 949(5. Evaluation)1 534 2 720 2280 t
10 R f
( of the algorithm used in)5 995(We considered several variations)3 1327 2 720 2460 t
10 I f
(align)3070 2460 w
10 R f
( are also several possible extensions)5 1454(. There)1 310 2 3276 2460 t
(of the algorithm.)2 669 1 720 2580 t
10 I f
(5.1 Variations)1 598 1 720 2760 t
10 R f
( of the sentences.)3 690(One variation considered was the use of words instead of characters to measure the lengths)14 3630 2 720 2940 t
( fact,)1 204( In)1 138( more uncertainty.)2 739(Words might be expected to be worse, since fewer words per sentence suggests)12 3239 4 720 3060 t
( The)1 206( from 36 to 50, and the English-German errors from 19 to 35.)12 2464(doing so raised the English-French errors)5 1650 3 720 3180 t
(total errors were thereby increased from 55 to 85, or from 4.2 percent to 6.5 percent.)15 3366 1 720 3300 t
( of standard deviation to length at)6 1361(Lengths measured in characters are better because they have a lower ratio)11 2959 2 720 3480 t
( have modeled variance as proportional to sentence length,)8 2358( We)1 190(the mean sentence length.)3 1037 3 720 3600 t
10 I f
(V)4331 3600 w
10 S f
(=)4416 3600 w
10 I f
(s)4487 3600 w
7 R f
(2)4537 3560 w
10 I f
(l)4588 3600 w
10 R f
( the)1 148(. Thus)1 276 2 4616 3600 t
(standard deviation is)2 831 1 720 3726 t
10 S f
(s)1578 3726 w
10 R f
(\()1646 3726 w
10 I f
(l)1687 3726 w
10 R f
(\))1723 3726 w
10 S f
(=)1772 3726 w
10 I f
(s)1843 3726 w
11 S f
(\326 `)1 111 1 1882 3726 t
10 I f
(l)1951 3726 w
10 R f
( the mean sentence length,)4 1064(. At)1 177 2 1995 3726 t
10 I f
(m)3263 3726 w
10 R f
( standard deviation to mean is)5 1211(, the ratio of)3 494 2 3335 3726 t
(thus)720 3852 w
10 S f
(s)916 3852 w
10 R f
(\()984 3852 w
10 I f
(m)1025 3852 w
10 R f
(\))1105 3852 w
10 I f
(/ m)1 108 1 1146 3852 t
10 S f
(=)1303 3852 w
10 I f
(s)1407 3852 w
11 S f
(\326` `)1 149 1 1446 3852 t
10 I f
( m)1 80(m /)1 124 2 1515 3852 t
10 S f
(=)1768 3852 w
10 I f
(s /)1 75 1 1872 3852 t
11 S f
(\326` `)1 149 1 1955 3852 t
10 I f
(m)2024 3852 w
10 R f
( the true alignments, we \256nd for character lengths)8 2006(. Using)1 318 2 2112 3852 t
10 I f
(s)4464 3852 w
7 R f
(2)4514 3812 w
10 S f
(=)4606 3852 w
10 R f
( and)1 172(6. 5,)1 158 2 4710 3852 t
(for word lengths)2 672 1 720 3972 t
10 I f
(s)1423 3972 w
7 R f
(2)1473 3932 w
10 S f
(=)1565 3972 w
10 R f
( Thus)1 257( is 17.)2 256( while the mean character length is 117 and the mean word length)12 2700(1. 9,)1 158 4 1669 3972 t
(the)720 4092 w
10 S f
(s)874 4092 w
10 R f
(\()942 4092 w
10 I f
(m)983 4092 w
10 R f
(\))1063 4092 w
10 I f
(/ m)1 108 1 1104 4092 t
10 R f
( means that the character lengths are less)7 1668( This)1 234( .33 for words.)3 603(ratios are .22 for characters and)5 1291 4 1244 4092 t
(noisy than are the word lengths, and thus are better for comparison.)11 2692 1 720 4212 t
( English-French errors were increased from 36)6 1897( The)1 211(We tried the algorithm ignoring paragraph boundaries.)6 2212 3 720 4392 t
( overall errors were increased from 55 to 170.)8 1913( The)1 216(to 84, and the English-German errors from 19 to 86.)9 2191 3 720 4512 t
( clause or)2 398( suggests that alignments by)4 1156( This)1 235(Thus a top-down approach reduces errors by a factor of three.)10 2531 4 720 4632 t
(phrase within a sentence would be valuable, if parsers were available for each language.)13 3514 1 720 4752 t
( shows that the program was right on 10 of 15)10 1967( 2)1 87( Table)1 289(Originally we did not allow for 2-2 alignments.)7 1977 4 720 4932 t
( in 12)2 234( Thus)1 253( introducing 2 spurious 2-2 alignments.)5 1587( was achieved at the cost of)6 1121( This)1 232(actual 2-2 alignments.)2 893 6 720 5052 t
( since)1 243( is signi\256cantly different from random,)5 1614( This)1 240(tries, the program was right 10 times, wrong 2 times.)9 2223 4 720 5172 t
( it is worth while)4 678( Thus)1 250( getting 10 or more heads out of 12 \257ips of a fair coin.)13 2164(there is less than .01 chance of)6 1228 4 720 5292 t
(to include the 2-2 alignment possibility.)5 1595 1 720 5412 t
(We showed that the best estimates of the model parameters,)9 2516 1 720 5592 t
10 I f
(c)3275 5592 w
10 R f
(and)3358 5592 w
10 I f
(s)3541 5592 w
7 R f
(2)3591 5552 w
10 R f
( the)1 162(, are somewhat different from)4 1244 2 3634 5592 t
(values)720 5712 w
10 I f
(c)1006 5712 w
10 S f
(=)1099 5712 w
10 R f
(1 and)1 225 1 1203 5712 t
10 I f
(s)1459 5712 w
7 R f
(2)1509 5672 w
10 S f
(=)1601 5712 w
10 R f
( estimates for each individual language)5 1586( we used the exact)4 755( When)1 294( that we used.)3 567(6. 8)1 133 5 1705 5712 t
( exactly the same,)3 775( models were not)3 742( The)1 224(pair, then we found exactly the same total number of errors.)10 2579 4 720 5832 t
( and two wrong\) for French and two changes \(one right, one)11 2422(however, as there were four changes \(two right)7 1898 2 720 5952 t
( are somewhat less dependent on a particular language,)8 2277( the parameters we use)4 944( Since)1 281(wrong\) for German.)2 818 4 720 6072 t
( studied, their use seems)4 1034(and since their use makes little difference for the two language pairs we have)13 3286 2 720 6192 t
(desirable.)720 6312 w
10 I f
(5.2 Extensions)1 608 1 720 6492 t
10 R f
( A)1 134( duplicated.)1 478(We rejected one document in which one paragraph was omitted and two paragraphs were)13 3708 3 720 6672 t
( distance measure for)3 877( The)1 214( paragraph alignment could be built that might handle this case.)10 2629(more powerful)1 600 4 720 6792 t
( We)1 195( between their sentences under the best sentence alignment.)8 2431(paragraphs would be the average distance)5 1694 3 720 6912 t
( measure would discriminate strongly between paragraphs that should be aligned and others, so)13 3883(expect this)1 437 2 720 7032 t
( measure)1 363( This)1 234(that a paragraph aligning very poorly with any available paragraph could be called inserted.)13 3723 3 720 7152 t
(essentially pushes the paragraph measure down a level to sentences.)9 2716 1 720 7272 t
cleartomark
showpage
saveobj restore
%%EndPage: 8 8
%%Page: 9 9
/saveobj save def
mark
9 pagesetup
10 R f
(- 9 -)2 166 1 2797 480 t
( be useful to use a probabilistic dictionary to augment the)10 2422(For sentence alignment, it would undoubtedly)5 1898 2 720 960 t
( This)1 241( sentence match down to the word level.)7 1699( is, we could push the)5 936( That)1 247(probability based on lengths.)3 1197 5 720 1080 t
( because our distance measure is a probability; it is thus possible to combine other)14 3560(would be possible)2 760 2 720 1200 t
( expect that this would give as good a sentence)9 1935( We)1 195(sources of information with it in a principled fashion.)8 2190 3 720 1320 t
( necessary, since alignments with)4 1370( it is not clear if it is)7 859( However,)1 448(matching job as could be done by hand.)7 1643 4 720 1440 t
( to suf\256ce for many purposes, such as building a probabilistic)10 2686(less than one percent errors are likely)6 1634 2 720 1560 t
(dictionary.)720 1680 w
9 B f
(6. Conclusions)1 579 1 720 1920 t
10 R f
( that)1 179( want to emphasize)3 777( We)1 191(This paper has proposed a method for aligning sentences in a bilingual corpus.)12 3173 4 720 2100 t
( model is based on the)5 896( The)1 206( Section 3.)2 427(the method is based on a probabilistic model, which was described in)11 2791 4 720 2220 t
( suggests that aligned)3 918( This)1 248( the lengths of aligned paragraphs have a .991 correlation.)9 2494(observation that)1 660 4 720 2340 t
( model quanti\256es this observation.)4 1375( The)1 205(sentences should also have nearly the same lengths.)7 2063 3 720 2460 t
( The)1 232( there was a 4.2 percent error rate on 1316 alignments.)10 2442( Overall,)1 401( also accurate.)2 621(The method is)2 624 5 720 2640 t
( the probability score)3 948( Since)1 306( English-French and English-German corpora.)4 1985(alignments included both)2 1081 4 720 2760 t
( percent of the)3 645(assigned to each alignment is predictive of errors, it is also possible to select out 80)15 3675 2 720 2880 t
(alignments that have an overall error rate of 0.7 percent.)9 2241 1 720 3000 t
( English-French and English-German)3 1543( Both)1 261( strongly dependent on the language pair.)6 1746(The method is not)3 770 4 720 3180 t
( six parameters that could vary)5 1273( model does have)3 726( The)1 215(corpora were processed using the same parameters.)6 2106 4 720 3300 t
( for a particular)3 650( each have operational interpretations, and can be estimated)8 2460( They)1 265(with the language pair.)3 945 4 720 3420 t
(language pair if necessary.)3 1063 1 720 3540 t
( better to count the sentence lengths in characters than in words, because there is less variability in the)18 4163(It is)1 157 2 720 3720 t
( half, from 4.2)3 613( by)1 163( words as units increases the error rate)7 1617( Using)1 302( lengths so measured.)3 899(ratios of sentence)2 726 6 720 3840 t
( increases)1 408( this step)2 390( Omitting)1 429( algorithm works by aligning paragraphs \256rst.)6 1931( The)1 222(percent to 6.5 percent.)3 940 6 720 3960 t
(errors by a factor of three.)5 1040 1 720 4080 t
( the)1 162( After)1 275( include other sources of information.)5 1578(Using a probability based model allows extensions that)7 2305 4 720 4260 t
( information from this)3 964( The)1 231(preliminary alignments are made, a probabilistic dictionary can be built.)9 3125 3 720 4380 t
( if a more powerful)4 854( Also,)1 285( back to the sentence alignment task to improve it.)9 2198(dictionary could be fed)3 983 4 720 4500 t
( scores for sentence alignment within a pair of paragraphs would be)11 2713(paragraph alignment is needed, the total)5 1607 2 720 4620 t
(a useful distance measure for the paragraphs.)6 1797 1 720 4740 t
(Acknowledgements)2483 5220 w
( Susan)1 310( aligning sentences.)2 827(We thank Susanne Wolff and and Evelyne Tzoukermann for their pains in)11 3183 3 720 5340 t
(Warwick provided us with the UBS trilingual corpus and posed the problem addressed here.)13 3683 1 720 5460 t
10 B f
(William A. Gale)2 692 1 2880 5940 t
(Kenneth W. Church)2 870 1 2880 6420 t
10 R f
(MH-11215-WAG/KWC)720 6420 w
cleartomark
showpage
saveobj restore
%%EndPage: 9 9
%%Page: 10 10
/saveobj save def
mark
10 pagesetup
10 R f
(- 10 -)2 216 1 2772 480 t
10 B f
(References)2648 960 w
10 R f
(Brown, P., J. Cocke, S. Della Pietra, V. Della Pietra, F. Jelinek, J. Lafferty, R. Mercer, and P. Roossin,)18 4320 1 720 1380 t
(\(1990\) ``A Statistical Approach to Machine Translation,'')6 2315 1 970 1500 t
10 I f
(Computational Linguistics)1 1066 1 3310 1500 t
10 R f
(, v 16, pp 79-85.)4 658 1 4376 1500 t
(Klavans, J., and E. Tzoukermann, \(1990\), ``The BICORD System,'')8 2726 1 720 1680 t
10 I f
(COLING-90)3471 1680 w
10 R f
(, pp 174-179.)2 533 1 3971 1680 t
(Kruskal, J., \(1983\),)2 779 1 720 1860 t
10 I f
( and Macromolecules: The Theory and Practice of Sequence)8 2463(Time Warps, String Edits,)3 1049 2 1528 1860 t
(Comparison)970 1980 w
10 R f
(, Addison-Wesley, Reading, Mass.)3 1390 1 1465 1980 t
( to)1 122( Continuous)1 531( M. Liberman, \(1983\), ``The Symmetric Time-Warping Problem: From)8 3007(Kruskal, J., and)2 660 4 720 2160 t
(Discrete,'' in \(Kruskal, 1983\).)3 1208 1 970 2280 t
cleartomark
showpage
saveobj restore
%%EndPage: 10 10
%%Page: 11 11
/saveobj save def
mark
11 pagesetup
10 R f
(R-2)2805 480 w
10 B f
(Appendix: Program)1 858 1 2451 960 t
10 I f
(with Michael D. Riley)3 877 1 2441 1440 t
10 R f
(The following code is the core of)6 1355 1 720 2340 t
10 I f
(align)2105 2340 w
10 R f
( is a C language program which takes as input texts in two \256les)13 2588(. It)1 141 2 2311 2340 t
( embedded special markers, one for ``hard'' regions \(such as paragraphs\), and one for ``soft'')14 3950(with two)1 370 2 720 2460 t
( hard regions may not be changed, and there must be equal numbers of)13 2965( The)1 216( sentences\).)1 476(regions \(such as)2 663 4 720 2580 t
( soft regions may be deleted or)6 1243( The)1 207( region.)1 307(them in the two languages, although there may be just one hard)11 2563 4 720 2700 t
( output)1 283( The)1 207( 1-2\), or merged \(2-2\).)4 905(inserted \(1-0 and 0-1\), substituted \(1-1\), contracted or expanded \(2-1 and)10 2925 4 720 2820 t
( markers separating)2 805(is two \256les with equal numbers of soft regions, each on a line, with the hard region)16 3515 2 720 2940 t
( -v command line option is included, each soft region is preceded by its probability)14 3414( the)1 153( If)1 122(groups of lines.)2 631 4 720 3060 t
(score.)720 3170 w
9 CW f
(/*Subject: align_regions.c */)2 1566 1 720 3280 t
(#include <fcntl.h>)1 972 1 720 3500 t
(#include <malloc.h>)1 1026 1 720 3610 t
(#include <math.h>)1 918 1 720 3720 t
(#include <stdio.h>)1 972 1 720 3830 t
(#include <string.h>)1 1026 1 720 3940 t
(#include <sys/mman.h>)1 1134 1 720 4050 t
(#include <sys/types.h>)1 1188 1 720 4160 t
(#include <values.h>)1 1026 1 720 4270 t
(#include <sys/stat.h>)1 1134 1 720 4380 t
(/*)720 4600 w
(usage)828 4820 w
( file2)1 324( file1)1 378(align_regions -D '.PARA' -d '.End of Sentence')6 2484 3 828 5040 t
(outputs two files: file1.al & file2.al)5 2052 1 828 5260 t
(regions are delimited by the -D and -d args)8 2322 1 828 5480 t
(the program is allowed to delete -d delimiters as necessary in order)11 3672 1 828 5700 t
(align the files, but it cannot change -D delimiters.)8 2808 1 828 5810 t
(*/)828 6030 w
(#define dist\(x,y\) distances[\(x\) * \(\(ny\) + 1\) + \(y\)])8 2754 1 720 6250 t
(#define pathx\(x,y\) path_x[\(x\) * \(\(ny\) + 1\) + \(y\)])8 2646 1 720 6360 t
(#define pathy\(x,y\) path_y[\(x\) * \(\(ny\) + 1\) + \(y\)])8 2646 1 720 6470 t
(#define BIG_DISTANCE 2500)2 1350 1 720 6690 t
(struct alignment {)2 972 1 720 7020 t
(int x1;)1 378 1 828 7130 t
(int y1;)1 378 1 828 7240 t
(int x2;)1 378 1 828 7350 t
cleartomark
showpage
saveobj restore
%%EndPage: 11 11
%%Page: 12 12
/saveobj save def
mark
12 pagesetup
9 R f
(A-2)2810 440 w
9 CW f
(int y2;)1 378 1 828 880 t
(int d;)1 324 1 828 990 t
(};)720 1100 w
( -D arg */)3 540( /*)1 396(char *hard_delimiter = NULL;)3 1512 3 720 1320 t
( -d arg */)3 540( /*)1 396(char *soft_delimiter = NULL;)3 1512 3 720 1430 t
( -v arg */)3 540( /*)1 684(int verbose = 0;)3 864 3 720 1540 t
( -b arg */)3 540( /*)1 1080(int debug = 0;)3 756 3 720 1650 t
(/*)720 1870 w
(seq_align by Mike Riley)3 1242 1 828 2090 t
(Sequence alignment routine.)2 1458 1 828 2200 t
(This version allows for contraction/expansions.)4 2538 1 828 2310 t
(x and y are sequences of objects, represented as non-zero ints, to be aligned.)13 4212 1 828 2530 t
(dist_funct\(x1, y1, x2, y2\) is a distance function of 4 args:)10 3240 1 828 2750 t
(dist_funct\(x1, y1, 0, 0\) gives cost of substitution of x1 by y1.)11 3456 1 936 2970 t
(dist_funct\(x1, 0, 0, 0\) gives cost of deletion of x1.)9 2862 1 936 3080 t
(dist_funct\(0, y1, 0, 0\) gives cost of insertion of y1.)9 2916 1 936 3190 t
(dist_funct\(x1, y1, x2, 0\) gives cost of contraction of \(x1,x2\) to y1.)11 3726 1 936 3300 t
(dist_funct\(x1, y1, 0, y2\) gives cost of expansion of x1 to \(y1,y2\).)11 3618 1 936 3410 t
(dist_funct\(x1, y1, x2, y2\) gives cost to match \(x1,x2\) to \(y1,y2\).)10 3564 1 936 3520 t
(align is the alignment, with \(align[i].x1, align[i].x2\) aligned)7 3402 1 828 3740 t
( in align[].x1 and align[].y1)4 1566( Zero)1 324(with \(align[i].y1, align[i].y2\).)2 1728 3 936 3850 t
( in)1 162( Non-zero)1 540(correspond to insertion and deletion, respectively.)5 2754 3 936 3960 t
(align[].x2 and align[].y2 correspond to contraction and expansion,)7 3564 1 936 4070 t
( gives the distance for that pairing.)6 1998(respectively. align[].d)1 1296 2 936 4180 t
(The function returns the length of the alignment.)7 2646 1 828 4400 t
(*/)720 4620 w
(int)720 4840 w
(seq_align\(x, y, nx, ny, dist_funct, align\))5 2268 1 720 4950 t
(int *x, *y, nx, ny;)4 1026 1 990 5060 t
(int \(*dist_funct\)\(\);)1 1080 1 990 5170 t
(struct alignment **align;)2 1350 1 990 5280 t
({)720 5390 w
(int *distances, *path_x, *path_y, n;)4 1944 1 828 5500 t
(int i, j, oi, oj, di, dj, d1, d2, d3, d4, d5, d6, dmin;)13 2970 1 828 5610 t
(struct alignment *ralign;)2 1350 1 828 5720 t
(distances = \(int *\) malloc\(\(nx + 1\) * \(ny + 1\) * sizeof\(int\)\);)12 3348 1 828 5940 t
(path_x = \(int *\) malloc\(\(nx + 1\) * \(ny + 1\) * sizeof\(int\)\);)12 3186 1 828 6050 t
(path_y = \(int *\) malloc\(\(nx + 1\) * \(ny + 1\) * sizeof\(int\)\);)12 3186 1 828 6160 t
(ralign = \(struct alignment *\) malloc\(\(nx + ny\) * sizeof\(struct alignment\)\);)10 4050 1 828 6270 t
(for\(j = 0; j <= ny; j++\) {)7 1404 1 828 6490 t
(for\(i = 0; i <= nx; i++\) {)7 1404 1 936 6600 t
( substitution */)2 864( /*)1 666(d1 = i>0 && j>0 ?)5 918 3 1044 6710 t
(dist\(i-1, j-1\) + \(*dist_funct\)\(x[i-1], y[j-1], 0, 0\))6 2808 1 1152 6820 t
(: MAXINT;)1 486 1 1260 6930 t
( deletion */)2 648( /*)1 684(d2 = i>0 ?)3 540 3 1044 7040 t
(dist\(i-1, j\) + \(*dist_funct\)\(x[i-1], 0, 0, 0\))6 2430 1 1152 7150 t
(: MAXINT;)1 486 1 1260 7260 t
( insertion */)2 702( /*)1 684(d3 = j>0 ?)3 540 3 1044 7370 t
cleartomark
showpage
saveobj restore
%%EndPage: 12 12
%%Page: 13 13
/saveobj save def
mark
13 pagesetup
9 R f
(A-3)2810 440 w
9 CW f
(dist\(i, j-1\) + \(*dist_funct\)\(0, y[j-1], 0, 0\))6 2430 1 1152 880 t
(: MAXINT;)1 486 1 1260 990 t
( contraction */)2 810( /*)1 666(d4 = i>1 && j>0 ?)5 918 3 1044 1100 t
(dist\(i-2, j-1\) + \(*dist_funct\)\(x[i-2], y[j-1], x[i-1], 0\))6 3078 1 1152 1210 t
(: MAXINT;)1 486 1 1260 1320 t
( expansion */)2 702( /*)1 666(d5 = i>0 && j>1 ?)5 918 3 1044 1430 t
(dist\(i-1, j-2\) + \(*dist_funct\)\(x[i-1], y[j-2], 0, y[j-1]\))6 3078 1 1152 1540 t
(: MAXINT;)1 486 1 1260 1650 t
( melding */)2 594( /*)1 666(d6 = i>1 && j>1 ?)5 918 3 1044 1760 t
(dist\(i-2, j-2\) + \(*dist_funct\)\(x[i-2], y[j-2], x[i-1], y[j-1]\))6 3348 1 1080 1870 t
(: MAXINT;)1 486 1 1260 1980 t
(dmin = d1;)2 540 1 1044 2200 t
(if\(d2<dmin\) dmin=d2;)1 1080 1 1044 2310 t
(if\(d3<dmin\) dmin=d3;)1 1080 1 1044 2420 t
(if\(d4<dmin\) dmin=d4;)1 1080 1 1044 2530 t
(if\(d5<dmin\) dmin=d5;)1 1080 1 1044 2640 t
(if\(d6<dmin\) dmin=d6;)1 1080 1 1044 2750 t
(if\(dmin == MAXINT\) {)3 1080 1 1044 2970 t
(dist\(i,j\) = 0;)2 756 1 1152 3080 t
(})1044 3190 w
(else if\(dmin == d1\) {)4 1134 1 1044 3300 t
(dist\(i,j\) = d1;)2 810 1 1152 3410 t
(pathx\(i,j\) = i-1;)2 918 1 1152 3520 t
(pathy\(i,j\) = j-1;)2 918 1 1152 3630 t
(})1044 3740 w
(else if\(dmin == d2\) {)4 1134 1 1044 3850 t
(dist\(i,j\) = d2;)2 810 1 1152 3960 t
(pathx\(i,j\) = i-1;)2 918 1 1152 4070 t
(pathy\(i,j\) = j;)2 810 1 1152 4180 t
(})1044 4290 w
(else if\(dmin == d3\) {)4 1134 1 1044 4400 t
(dist\(i,j\) = d3;)2 810 1 1152 4510 t
(pathx\(i,j\) = i;)2 810 1 1152 4620 t
(pathy\(i,j\) = j-1;)2 918 1 1152 4730 t
(})1044 4840 w
(else if\(dmin == d4\) {)4 1134 1 1044 4950 t
(dist\(i,j\) = d4;)2 810 1 1152 5060 t
(pathx\(i,j\) = i-2;)2 918 1 1152 5170 t
(pathy\(i,j\) = j-1;)2 918 1 1152 5280 t
(})1044 5390 w
(else if\(dmin == d5\){)3 1080 1 1044 5500 t
(dist\(i,j\) = d5;)2 810 1 1152 5610 t
(pathx\(i,j\) = i-1;)2 918 1 1152 5720 t
(pathy\(i,j\) = j-2;)2 918 1 1152 5830 t
(})1044 5940 w
( dmin == d6 */ {)5 864(else /*)1 1224 2 1044 6050 t
(dist\(i,j\) = d6;)2 810 1 1080 6160 t
(pathx\(i,j\) = i-2;)2 918 1 1080 6270 t
(pathy\(i,j\) = j-2;)2 918 1 1080 6380 t
(})1044 6490 w
(})936 6600 w
(})828 6710 w
(n = 0;)2 324 1 828 6930 t
(for\(i=nx, j=ny ; i>0 || j>0 ; i = oi, j = oj\) {)13 2538 1 828 7040 t
(oi = pathx\(i, j\);)3 918 1 936 7150 t
(oj = pathy\(i, j\);)3 918 1 936 7260 t
(di = i - oi;)4 648 1 936 7370 t
cleartomark
showpage
saveobj restore
%%EndPage: 13 13
%%Page: 14 14
/saveobj save def
mark
14 pagesetup
9 R f
(A-4)2810 440 w
9 CW f
(dj = j - oj;)4 648 1 936 880 t
( substitution */)2 864( /*)1 216(if\(di == 1 && dj == 1\) {)7 1296 3 936 1100 t
(ralign[n].x1 = x[i-1];)2 1188 1 1044 1210 t
(ralign[n].y1 = y[j-1];)2 1188 1 1044 1320 t
(ralign[n].x2 = 0;)2 918 1 1044 1430 t
(ralign[n].y2 = 0;)2 918 1 1044 1540 t
(ralign[n++].d = dist\(i, j\) - dist\(i-1, j-1\);)6 2376 1 1044 1650 t
(})936 1760 w
( deletion */)2 648( /*)1 216(else if\(di == 1 && dj == 0\) {)8 1566 3 936 1980 t
(ralign[n].x1 = x[i-1];)2 1188 1 1044 2090 t
(ralign[n].y1 = 0;)2 918 1 1044 2200 t
(ralign[n].x2 = 0;)2 918 1 1044 2310 t
(ralign[n].y2 = 0;)2 918 1 1044 2420 t
(ralign[n++].d = dist\(i, j\) - dist\(i-1, j\);)6 2268 1 1044 2530 t
(})936 2640 w
( insertion */)2 702( /*)1 216(else if\(di == 0 && dj == 1\) {)8 1566 3 936 2860 t
(ralign[n].x1 = 0;)2 918 1 1044 2970 t
(ralign[n].y1 = y[j-1];)2 1188 1 1044 3080 t
(ralign[n].x2 = 0;)2 918 1 1044 3190 t
(ralign[n].y2 = 0;)2 918 1 1044 3300 t
(ralign[n++].d = dist\(i, j\) - dist\(i, j-1\);)6 2268 1 1044 3410 t
(})936 3520 w
( contraction */)2 810( /*)1 216(else if\(dj == 1\) {)4 972 3 936 3740 t
(ralign[n].x1 = x[i-2];)2 1188 1 1044 3850 t
(ralign[n].y1 = y[j-1];)2 1188 1 1044 3960 t
(ralign[n].x2 = x[i-1];)2 1188 1 1044 4070 t
(ralign[n].y2 = 0;)2 918 1 1044 4180 t
(ralign[n++].d = dist\(i, j\) - dist\(i-2, j-1\);)6 2376 1 1044 4290 t
(})936 4400 w
( expansion */)2 702( /*)1 324(else if\(di == 1\) {)4 972 3 936 4620 t
(ralign[n].x1 = x[i-1];)2 1188 1 1044 4730 t
(ralign[n].y1 = y[j-2];)2 1188 1 1044 4840 t
(ralign[n].x2 = 0;)2 918 1 1044 4950 t
(ralign[n].y2 = y[j-1];)2 1188 1 1044 5060 t
(ralign[n++].d = dist\(i, j\) - dist\(i-1, j-2\);)6 2376 1 1044 5170 t
(})936 5280 w
(else /* di == 2 && dj == 2 */ { /* melding */)13 2430 1 936 5390 t
(ralign[n].x1 = x[i-2];)2 1188 1 1080 5500 t
(ralign[n].y1 = y[j-2];)2 1188 1 1080 5610 t
(ralign[n].x2 = x[i-1];)2 1188 1 1080 5720 t
(ralign[n].y2 = y[j-1];)2 1188 1 1080 5830 t
(ralign[n++].d = dist\(i, j\) - dist\(i-2, j-2\);)6 2376 1 1080 5940 t
(})936 6050 w
(})828 6160 w
(*align = \(struct alignment *\) malloc\(n * sizeof\(struct alignment\)\);)8 3618 1 828 6380 t
(for\(i=0; i<n; i++\))2 972 1 828 6600 t
(bcopy\(ralign + i, \(*align\) + \(n-i-1\), sizeof\(struct alignment\)\);)7 3456 1 936 6710 t
(free\(distances\);)828 6930 w
(free\(path_x\);)828 7040 w
(free\(path_y\);)828 7150 w
(free\(ralign\);)828 7260 w
(return\(n\);)828 7370 w
cleartomark
showpage
saveobj restore
%%EndPage: 14 14
%%Page: 15 15
/saveobj save def
mark
15 pagesetup
9 R f
(A-5)2810 440 w
9 CW f
(})720 880 w
(/* Returns the area under a normal distribution)7 2538 1 720 1100 t
(from -inf to z standard deviations */)6 1998 1 882 1210 t
(double)720 1320 w
(pnorm\(z\))720 1430 w
(double z;)1 486 1 990 1540 t
({)720 1650 w
(double t, pd;)2 702 1 828 1760 t
(t = 1/\(1 + 0.2316419 * z\);)6 1404 1 828 1870 t
(pd = 1 - 0.3989423 *)5 1080 1 828 1980 t
(exp\(-z * z/2\) *)3 810 1 936 2090 t
(\(\(\(\(1.330274429 * t - 1.821255978\) * t)6 2052 1 1044 2200 t
(+ 1.781477937\) * t - 0.356563782\) * t + 0.319381530\) * t;)11 3078 1 1134 2310 t
(/* see Gradsteyn & Rhyzik, 26.2.17 p932 */)7 2268 1 828 2420 t
(return\(pd\);)828 2530 w
(})720 2640 w
(/* Return -100 * log probability that an English sentence of length)11 3618 1 720 2970 t
( The)1 270(len1 is a translation of a foreign sentence of length len2.)10 3186 2 882 3080 t
(probability is based on two parameters, the mean and variance of)10 3456 1 882 3190 t
(number of foreign characters per English character.)6 2754 1 882 3300 t
(*/)720 3410 w
(int)720 3630 w
(match\(len1, len2\))1 918 1 720 3740 t
(int len1, len2;)2 810 1 990 3850 t
({)720 3960 w
(double z, pd, mean;)3 1026 1 828 4070 t
(/* foreign characters per english character */)6 2484 1 828 4290 t
(double foreign_chars_per_eng_char = 1;)3 2052 1 828 4400 t
(/* variance per english character */)5 1944 1 828 4620 t
(double var_per_eng_char = 6.8 ;)4 1674 1 828 4730 t
(if\(len1==0 && len2==0\) return\(0\);)3 1782 1 828 4950 t
(mean = \(len1 + len2/foreign_chars_per_eng_char\)/2;)4 2700 1 828 5060 t
(z = \(foreign_chars_per_eng_char * len1 - len2\)/sqrt\(var_per_eng_char * mean\);)8 4158 1 828 5170 t
(/* Need to deal with both sides of the normal distribution */)11 3294 1 828 5390 t
(if\(z < 0\) z = -z;)5 918 1 828 5500 t
(pd = 2 * \(1 - pnorm\(z\)\);)6 1296 1 828 5610 t
(if\(pd > 0\) return\(\(int\)\(-100 * log\(pd\)\)\);)5 2214 1 828 5830 t
(else return\(BIG_DISTANCE\);)1 1404 1 828 5940 t
(})720 6050 w
(int)720 6270 w
(two_side_distance\(x1, y1, x2, y2\))3 1782 1 720 6380 t
(int x1, y1, x2, y2;)4 1026 1 990 6490 t
({)720 6600 w
( -100 * log\([prob of 2-1 match] / [prob of 1-1 match]\) */)12 3078( /*)1 720(int penalty21 = 230;)3 1080 3 828 6710 t
( -100 * log\([prob of 2-2 match] / [prob of 1-1 match]\) */)12 3078( /*)1 720(int penalty22 = 440;)3 1080 3 828 6820 t
( -100 * log\([prob of 0-1 match] / [prob of 1-1 match]\) */)12 3078( /*)1 720(int penalty01 = 450;)3 1080 3 828 6930 t
(if\(x2 == 0 && y2 == 0\))6 1188 1 828 7150 t
( insertion */)2 702( /*)1 1098(if\(x1 == 0\))2 594 3 936 7370 t
cleartomark
showpage
saveobj restore
%%EndPage: 15 15
%%Page: 16 16
/saveobj save def
mark
16 pagesetup
9 R f
(A-6)2810 440 w
9 CW f
(return\(match\(x1, y1\) + penalty01\);)3 1836 1 1044 880 t
( deletion */)2 648( /*)1 828(else if\(y1 == 0\))3 864 3 936 1100 t
(return\(match\(x1, y1\) + penalty01\);)3 1836 1 1044 1210 t
(else return \(match\(x1, y1\)\); /* substitution */)6 2538 1 936 1430 t
( expansion */)2 702( /*)1 576(else if\(x2 == 0\))3 864 3 828 1650 t
(return \(match\(x1, y1 + y2\) + penalty21\);)6 2160 1 936 1760 t
( contraction */)2 810( /*)1 576(else if\(y2 == 0\))3 864 3 828 1980 t
(return\(match\(x1 + x2, y1\) + penalty21\);)5 2106 1 936 2090 t
( melding */)2 594(else /*)1 1440 2 828 2310 t
(return\(match\(x1 + x2, y1 + y2\) + penalty22\);)7 2376 1 936 2420 t
(})720 2530 w
(void)720 2750 w
(err\(msg\))720 2860 w
(char *msg;)1 540 1 990 2970 t
({)720 3080 w
(fprintf\(stderr, "**ERROR**: %s0, msg\);)3 2052 1 828 3190 t
(exit\(2\);)828 3300 w
(})720 3410 w
(/* return the contents of the file as a string)9 2484 1 720 3630 t
(and stuff the length of this string into len_ptr */)9 2754 1 882 3740 t
(char *)1 324 1 720 3850 t
(readchars\(filename, len_ptr\))1 1512 1 720 3960 t
(char *filename;)1 810 1 990 4070 t
(int *len_ptr;)1 702 1 990 4180 t
({)720 4290 w
(FILE *fd;)1 486 1 828 4400 t
(char *result;)1 702 1 828 4510 t
(struct stat stat_buf;)2 1134 1 828 4620 t
(fd = fopen\(filename, "r"\);)3 1404 1 828 4840 t
(if\(fd == NULL\) err\("open failed"\);)4 1836 1 828 4950 t
(if\(fstat\(fileno\(fd\), &stat_buf\) == -1\))3 2052 1 828 5170 t
(err\("stat failed"\);)1 1026 1 936 5280 t
(*len_ptr = stat_buf.st_size;)2 1512 1 828 5500 t
(result = malloc\(*len_ptr\);)2 1404 1 828 5720 t
(if\(result == NULL\) err\("malloc failed0\);)4 2160 1 828 5830 t
(if\(fread\(result, sizeof\(char\), *len_ptr, fd\) != *len_ptr\))5 3078 1 828 6050 t
(err\("fread failed"\);)1 1080 1 936 6160 t
(if\(fclose\(fd\) == -1\))2 1080 1 828 6380 t
(err\("fclose failed"\);)1 1134 1 936 6490 t
(return\(result\);)828 6710 w
(})720 6820 w
(/* split string into a number of substrings delimited by a delimiter character)12 4212 1 720 7040 t
(return an array of substrings)4 1566 1 882 7150 t
(stuff the length of this array into len_ptr */)8 2484 1 882 7260 t
(char **)1 378 1 720 7370 t
cleartomark
showpage
saveobj restore
%%EndPage: 16 16
%%Page: 17 17
/saveobj save def
mark
17 pagesetup
9 R f
(A-7)2810 440 w
9 CW f
(substrings\(string, end, delimiter, len_ptr\))3 2322 1 720 880 t
(char *string, *end, delimiter;)3 1620 1 990 990 t
(int *len_ptr;)1 702 1 990 1100 t
({)720 1210 w
(char *s, **result;)2 972 1 828 1320 t
(int i = 0;)3 540 1 828 1430 t
(while\(string < end && *string == delimiter\) string++;)7 2862 1 828 1650 t
(for\(s = string; s < end; s++\))6 1566 1 828 1870 t
(if\(*s == delimiter\) i++;)3 1296 1 936 1980 t
(*len_ptr = i;)2 702 1 828 2090 t
(result = \(char **\)malloc\(sizeof\(char *\) * \(i+1\)\);)6 2646 1 828 2310 t
(if\(result == NULL\) err\("malloc failed"\);)4 2160 1 828 2420 t
(i = 0;)2 324 1 828 2640 t
(result[i++] = string;)2 1134 1 828 2750 t
(for\(s = string; s < end; s++\))6 1566 1 828 2860 t
(if\(*s == delimiter\) {)3 1134 1 936 2970 t
(result[i++] = s+1;)2 972 1 1044 3080 t
(*s = 0;)2 378 1 1044 3190 t
(})936 3300 w
(i--; /*the last entry is beyond the end*/)7 2214 1 828 3410 t
(if\(i != *len_ptr\) {)3 1026 1 828 3520 t
(fprintf\(stderr, "align_regions: confusion; i= %d; *len_ptr = %d0, i, *len_ptr\);)9 4266 1 936 3630 t
(exit\(2\);)936 3740 w
(})828 3850 w
(return\(result\);)828 4070 w
(})720 4180 w
(/* return an array of strings, one string for each line of the file)13 3618 1 720 4400 t
(set len_ptr to the number of lines in the file */)10 2646 1 828 4510 t
(char **)1 378 1 720 4620 t
(readlines\(filename, len_ptr\))1 1512 1 720 4730 t
(char *filename;)1 810 1 990 4840 t
(int *len_ptr;)1 702 1 990 4950 t
({)720 5060 w
(char *chars;)1 648 1 828 5170 t
(int number_of_chars;)1 1080 1 828 5280 t
(chars = readchars\(filename, &number_of_chars\);)3 2484 1 828 5390 t
(return\(substrings\(chars, chars + number_of_chars, '0, len_ptr\)\);)5 3456 1 828 5500 t
(})720 5610 w
(struct region {)2 810 1 720 5830 t
(char **lines;)1 702 1 828 5940 t
(int length;)1 594 1 828 6050 t
(};)720 6160 w
(void)720 6380 w
(print_region\(fd, region, score\))2 1674 1 720 6490 t
(int score;)1 540 1 990 6600 t
(FILE *fd;)1 486 1 990 6710 t
(struct region *region;)2 1188 1 990 6820 t
({)720 6930 w
(char **lines, **end;)2 1080 1 828 7040 t
(lines = region->lines;)2 1188 1 828 7260 t
(end = lines + region->length;)4 1566 1 828 7370 t
cleartomark
showpage
saveobj restore
%%EndPage: 17 17
%%Page: 18 18
/saveobj save def
mark
18 pagesetup
9 R f
(A-8)2810 440 w
9 CW f
(for\( ; lines < end ; lines++\))6 1566 1 828 880 t
(fprintf\(fd, "%s0, *lines\);)2 1404 1 936 990 t
(})720 1100 w
(int)720 1320 w
(length_of_a_region\(region\))720 1430 w
(struct region *region;)2 1188 1 990 1540 t
({)720 1650 w
(int result;)1 594 1 828 1760 t
(char **lines, **end;)2 1080 1 828 1870 t
(lines = region->lines;)2 1188 1 828 2090 t
(end = lines + region->length;)4 1566 1 828 2200 t
(result = end - lines;)4 1134 1 828 2310 t
(for\( ; lines < end; lines++\))5 1512 1 828 2530 t
(result += strlen\(*lines\);)2 1350 1 936 2640 t
(return\(result\);)828 2750 w
(})720 2860 w
(int *)1 270 1 720 3080 t
(region_lengths\(regions, n\))1 1404 1 720 3190 t
(struct region *regions;)2 1242 1 990 3300 t
(int n;)1 324 1 990 3410 t
({)720 3520 w
(int i;)1 324 1 828 3630 t
(int *result;)1 648 1 828 3740 t
(result = \(int *\)malloc\(n * sizeof\(int\)\);)5 2160 1 828 3960 t
(if\(result == NULL\) err\("malloc failed"\);)4 2160 1 828 4070 t
(for\(i = 0; i < n; i++\))6 1188 1 828 4290 t
(result[i] = length_of_a_region\(regions[i]\);)2 2322 1 936 4400 t
(return\(result\);)828 4510 w
(})720 4620 w
(struct region *)2 810 1 720 4840 t
(find_sub_regions\(region, delimiter, len_ptr\))2 2376 1 720 4950 t
(struct region *region;)2 1188 1 990 5060 t
(char *delimiter;)1 864 1 990 5170 t
(int *len_ptr;)1 702 1 990 5280 t
({)720 5390 w
(struct region *result;)2 1188 1 828 5500 t
(char **l, **lines, **end;)3 1350 1 828 5610 t
(int n = 0;)3 540 1 828 5720 t
(lines = region->lines;)2 1188 1 828 5940 t
(end = lines + region->length;)4 1566 1 828 6050 t
(for\(l = lines; l < end; l++\))6 1512 1 828 6270 t
(if\(delimiter && strcmp\(*l, delimiter\) == 0\) n++;)6 2592 1 936 6380 t
(result = \(struct region *\)calloc\(n+1, sizeof\(struct region\)\);)6 3294 1 828 6600 t
(if\(result == NULL\) err\("malloc failed"\);)4 2160 1 828 6710 t
(*len_ptr = n;)2 702 1 828 6820 t
(n = 0;)2 324 1 828 6930 t
(result[0].lines = lines;)2 1296 1 828 7040 t
(for\(l = lines; l < end; l++\))6 1512 1 828 7150 t
(if\(delimiter && strcmp\(*l, delimiter\) == 0\) {)6 2430 1 936 7260 t
(result[n].length = l - result[n].lines;)4 2106 1 1044 7370 t
cleartomark
showpage
saveobj restore
%%EndPage: 18 18
%%Page: 19 19
/saveobj save def
mark
19 pagesetup
9 R f
(A-9)2810 440 w
9 CW f
(result[n+1].lines = l+1;)2 1296 1 1044 880 t
(n++;)1044 990 w
(})936 1100 w
(result[n].length = l - result[n].lines;)4 2106 1 828 1210 t
(if\(n != *len_ptr\) {)3 1026 1 828 1320 t
(fprintf\(stderr, "find_sub_regions: n = %d, *len_ptr = %d0, n, *len_ptr\);)9 3888 1 936 1430 t
(exit\(2\);)936 1540 w
(})828 1650 w
(return\(result\);)828 1760 w
(})720 1870 w
(#define MAX_FILENAME 256)2 1296 1 720 2090 t
(int)720 2310 w
(main\(argc, argv\))1 864 1 720 2420 t
(int argc;)1 486 1 990 2530 t
(char **argv;)1 648 1 990 2640 t
({)720 2750 w
(char **lines1, **lines2;)2 1296 1 828 2860 t
(int number_of_lines1, number_of_lines2;)2 2106 1 828 2970 t
(struct region *hard_regions1, *hard_regions2, *soft_regions1, *soft_regions2;)5 4158 1 828 3190 t
(struct region *hard_end1, *hard_end2, tmp;)4 2268 1 828 3300 t
(int number_of_hard_regions1;)1 1512 1 828 3410 t
(int number_of_hard_regions2;)1 1512 1 828 3520 t
(int number_of_soft_regions1;)1 1512 1 828 3630 t
(int number_of_soft_regions2;)1 1512 1 828 3740 t
(int *len1, *len2;)2 918 1 828 3960 t
(int c, n, i, ix, iy, prevx, prevy;)7 1836 1 828 4180 t
(struct alignment *align, *a;)3 1512 1 828 4290 t
(FILE *out1, *out2;)2 972 1 828 4510 t
(char filename[MAX_FILENAME];)1 1512 1 828 4620 t
(extern char *optarg;)2 1080 1 828 4840 t
(extern int optind;)2 972 1 828 4950 t
(while\(\(c = getopt\(argc, argv, "vVd:D:"\)\) != EOF\))6 2592 1 828 5170 t
(switch\(c\) {)1 594 1 936 5280 t
(case 'v':)1 486 1 936 5390 t
(verbose = 1;)2 648 1 1044 5500 t
(break;)1044 5610 w
(case 'V':)1 486 1 936 5720 t
(debug = 1;)2 540 1 1044 5830 t
(verbose = 1;)2 648 1 1044 5940 t
(break;)1044 6050 w
(case 'd':)1 486 1 936 6160 t
(soft_delimiter = strdup\(optarg\);)2 1728 1 1044 6270 t
(break;)1044 6380 w
(case 'D':)1 486 1 936 6490 t
(hard_delimiter = strdup\(optarg\);)2 1728 1 1044 6600 t
(break;)1044 6710 w
(default:)936 6820 w
(fprintf\(stderr, "usage: align_regions [d \(soft delimiter\)] [D \(hard delimiter\)]0\);)8 4428 1 1044 6930 t
(exit\(2\);)1044 7040 w
(})936 7150 w
(if\(argc != optind + 2\) err\("wrong number of arguments"\);)8 3024 1 828 7370 t
cleartomark
showpage
saveobj restore
%%EndPage: 19 19
%%Page: 20 20
/saveobj save def
mark
20 pagesetup
9 R f
(A-10)2787 440 w
9 CW f
(sprintf\(filename, "%s.al", argv[optind]\);)2 2214 1 828 880 t
(out1 = fopen\(filename, "w"\);)3 1512 1 828 990 t
(if\(out1 == NULL\) {)3 972 1 828 1100 t
(fprintf\(stderr, "can't open %s0, filename\);)4 2322 1 936 1210 t
(exit\(2\);)936 1320 w
(})828 1430 w
(sprintf\(filename, "%s.al", argv[optind+1]\);)2 2322 1 828 1650 t
(out2 = fopen\(filename, "w"\);)3 1512 1 828 1760 t
(if\(out2 == NULL\) {)3 972 1 828 1870 t
(fprintf\(stderr, "can't open %s0, filename\);)4 2322 1 936 1980 t
(exit\(2\);)936 2090 w
(})828 2200 w
(lines1 = readlines\(argv[optind], &number_of_lines1\);)3 2808 1 828 2420 t
(lines2 = readlines\(argv[optind+1], &number_of_lines2\);)3 2916 1 828 2530 t
(tmp.lines = lines1;)2 1026 1 828 2750 t
(tmp.length = number_of_lines1;)2 1620 1 828 2860 t
(hard_regions1 = find_sub_regions\(&tmp, hard_delimiter, &number_of_hard_regions1\);)4 4374 1 828 2970 t
(tmp.lines = lines2;)2 1026 1 828 3190 t
(tmp.length = number_of_lines2;)2 1620 1 828 3300 t
(hard_regions2 = find_sub_regions\(&tmp, hard_delimiter, &number_of_hard_regions2\);)4 4374 1 828 3410 t
(if\(number_of_hard_regions1 != number_of_hard_regions2\) {)3 3024 1 828 3630 t
(fprintf\(stderr, "align_regions: input files do not contain the same number of hard regions \(%S\).20s has %d and %s has %d.0,)19 6642 1 936 3740 t
(hard_delimiter,)1296 3850 w
(argv[optind], number_of_hard_regions1,)1 2052 1 1296 3960 t
(argv[optind+1], number_of_hard_regions2\);)1 2214 1 1296 4070 t
(exit\(2\);)936 4180 w
(})828 4290 w
(hard_end1 = hard_regions1 + number_of_hard_regions1;)4 2808 1 828 4510 t
(hard_end2 = hard_regions2 + number_of_hard_regions2;)4 2808 1 828 4620 t
(for\( ; hard_regions1 < hard_end1 ; hard_regions1++, hard_regions2++\) {)8 3780 1 828 4840 t
(soft_regions1 = find_sub_regions\(hard_regions1[0], soft_delimiter, &number_of_soft_regions1\);)4 5022 1 936 5060 t
(soft_regions2 = find_sub_regions\(hard_regions2[0], soft_delimiter, &number_of_soft_regions2\);)4 5022 1 936 5170 t
(if\(debug\){fprintf\(out1,"number of soft regions=%d0,number_of_soft_regions1\);)3 4104 1 936 5390 t
(fprintf\(out2,"number of soft regions=%d0,number_of_soft_regions2\);})3 3618 1 1404 5500 t
(len1 = region_lengths\(soft_regions1, number_of_soft_regions1\);)3 3348 1 936 5720 t
(len2 = region_lengths\(soft_regions2, number_of_soft_regions2\);)3 3348 1 936 5830 t
(n = seq_align\(len1, len2, number_of_soft_regions1, number_of_soft_regions2, two_side_distance, &align\);)7 5562 1 936 6050 t
(prevx = prevy = ix = iy = 0;)8 1512 1 936 6270 t
(for\(i = 0; i < n; i++\) {)7 1296 1 936 6380 t
(a = &align[i];)2 756 1 1044 6490 t
(if\(a->x2 > 0\) ix++; else if\(a->x1 == 0\) ix--;)8 2430 1 1044 6600 t
(if\(a->y2 > 0\) iy++; else if\(a->y1 == 0\) iy--;)8 2430 1 1044 6710 t
(if\(a->x1 == 0 && a->y1 == 0 && a->x2 == 0 && a->y2 == 0\) {ix++; iy++;})16 3780 1 1044 6820 t
(ix++;)1044 6930 w
(iy++;)1044 7040 w
(if\(debug\) {fprintf\(out1,"n=%d i=%d x1=%d y1=%d x2=%d y2=%d0,n,i,a->x1,a->y1,a->x2,a->y2\);)6 4806 1 1044 7260 t
(fprintf\(out2,"n=%d i=%d x1=%d y1=%d x2=%d y2=%d0,n,i,a->x1,a->y1,a->x2,a->y2\);})5 4266 1 1494 7370 t
cleartomark
showpage
saveobj restore
%%EndPage: 20 20
%%Page: 21 21
/saveobj save def
mark
21 pagesetup
9 R f
(A-11)2787 440 w
9 CW f
(if\(verbose\) {fprintf\(out1, ".Score %d0, a->d\);)4 2484 1 1044 880 t
(fprintf\(out2, ".Score %d0, a->d\);})3 1836 1 1602 990 t
(for\( ; prevx < ix; prevx++\))5 1458 1 1044 1210 t
( prevx=%d ",ix,prevx\);)2 1188({if\(debug\) fprintf\(out1,"ix=%d)1 1674 2 1080 1320 t
(print_region\(out1, soft_regions1[prevx], a->d\);})2 2592 1 1080 1430 t
(fprintf\(out1, "%s0, soft_delimiter\);)2 1944 1 1044 1540 t
(for\( ; prevy < iy; prevy++\))5 1458 1 1044 1760 t
({if\(debug\) fprintf\(out2,"iy=%d prevy=%d ",iy,prevy\);)3 2808 1 1080 1870 t
(print_region\(out2, soft_regions2[prevy], a->d\);})2 2592 1 1080 1980 t
(fprintf\(out2, "%s0, soft_delimiter\);)2 1944 1 1044 2090 t
(})936 2200 w
(fprintf\(out1, "%s0, hard_delimiter\);)2 1944 1 936 2310 t
(fprintf\(out2, "%s0, hard_delimiter\);)2 1944 1 936 2420 t
(free\(align\);)936 2530 w
(free\(soft_regions1\);)936 2640 w
(free\(soft_regions2\);)936 2750 w
(free\(len1\);)936 2860 w
(free\(len2\);)936 2970 w
(})828 3080 w
(})720 3190 w
cleartomark
showpage
saveobj restore
%%EndPage: 21 21
%%Trailer
done
%%Pages: 21
%%DocumentFonts: Times-Bold Helvetica Times-Italic Courier Times-Roman Symbol Times-Roman
